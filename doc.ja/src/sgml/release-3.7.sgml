<!-- doc/src/sgml/release-3.7.sgml -->
<!-- See header comment in release.sgml about typical markup -->

<sect1 id="release-3-7-26">
 <title>リリース 3.7.26</title>
  <note>
   <title>リリース日</title>
   <simpara>2022-12-22</simpara>
  </note>

 <sect2>
  <title>変更点</title>
  <itemizedlist>

   <listitem>
    <!--
    2022-12-03 [bcea238]
    -->
    <para>
     ログメッセージ"new IPC connection received"をDEBUG1にダウングレードしました。
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=775">bug 775</ulink>) (Bo Peng)
    </para>
    <para>
     これは通常のメッセージで、LOGとして記録されるべきではありません。
     パッチはpstefによって作成され、Bo Pengによってレビューされました。
    </para>
   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <title>不具合修正</title>
  <itemizedlist>

   <listitem>
    <!--
    2022-09-23 [50f0285]
    -->
    <para>
     <command>pcp_proc_info</command>、<command>SHOW pool_pools</command>および<command>SHOW pool_processes</command>内のまれなセグメンテーション違反を修正しました。(Tatsuo Ishii)
    </para>
    <para>
     セグメンテーション違反はget_pools()とget_processes()にありました。
     それらは、最初に共有メモリ上の特定のプロセス情報スロットのpidを抽出し、次にキーとして pid を使ってスロットを再び検索していました。
     これらのステップはロックによって保護されていなかったため、プロセス終了時に新しい子プロセスのフォークを担う親プロセスによって pid が上書きされた場合、
     pid を使った検索が失敗し、NULLを返す可能性がありました。
     その結果、それに続くNULLポインタの参照によってセグメンテーション違反が発生していました。
    </para>
    <para>
     解決策は、最初にプロセス情報スロットへのポインタを取得し、次にポインタからpidメンバを抽出することです。
     この方法でも、親プロセスによる共有メモリ情報の同時更新は可能ですが(出力におかしな結果をもたらす可能性があります)、少なくともセグメンテーション違反は回避できます。
    </para>
   </listitem>

   <listitem>
    <!--
    2022-09-12 [7b288c6]
    -->
    <para>
     無効な長さのUnixドメインソケットパスを使えないように修正しました。(Masaya Kawamoto)
    </para>
   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <title>ドキュメント修正</title>
  <itemizedlist>

   <listitem>
    <!--
    2022-10-07 [0acb52b]
    -->
    <para>
     Doc: memqcache_methodの説明を拡充しました。(Tatsuo Ishii)
    </para>
    <para>
     どの方式を使うべきかの説明を追加しました。
    </para>
   </listitem>

   <listitem>
    <!--
    2022-08-28 [4551ef6]
    -->
    <para>
     Doc: ヘルスチェックプロセスでSSLが使えることに言及しました。(Tatsuo Ishii)
    </para>
    <para>
     ストリーミングレプリケーションのチェックでもSSLが使えることに言及しました。
     これは2010年以降に使えていたはずです。
    </para>
    <para>
     議論: <ulink url="https://www.pgpool.net/pipermail/pgpool-hackers/2022-August/004188.html">[pgpool-hackers: 4187]</ulink>
    </para>
   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <title>回帰テスト修正</title>
  <itemizedlist>

   <listitem>
    <!--
    2022-12-17 [2985853]
    -->
    <para>
     環境変数を使ってPGPOOLDIRを定義できるようにしました。
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=766">bug 766</ulink>) (Bo Peng)
    </para>
   </listitem>

  </itemizedlist>
 </sect2>
</sect1>

<sect1 id="release-3-7-25">
 <title>リリース 3.7.25</title>
  <note>
   <title>リリース日</title>
   <simpara>2022-08-18</simpara>
  </note>

 <sect2>
  <title>不具合修正</title>
  <itemizedlist>

   <listitem>
    <!--
    2022-07-05 [2a6a7218]
    2022-07-04 [9a523e02]
    -->
    <para>
     クエリキャッシュの不具合を修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     Pgpool-II did not cache the query like "Select '2022-02-18 07:00:00.006547'::timestamp".
     SELECTs include TIMESTAMP, TIME and DATE are cached, and SELECTs include TIMESTAMPZ
     and TIMEZ are not cached because the result can be changed by SET TIME ZONE command etc.
     Furthermore, SELECTs having functions with return types are timestamptz or timetz are
     not cached too as same reason.
     Discussion: <ulink url="https://www.pgpool.net/pipermail/pgpool-general/2022-July/008344.html">[pgpool-general: 8285]</ulink>
     -->
     Pgpool-IIは"Select '2022-02-18 07:00:00.006547'::timestamp"のような問合せをキャッシュしていませんでした。
     TIMESTAMP、TIME、DATEを含むSELECT文はキャッシュされるようになりますが、TIMESTAMPZ、TIMEZを含むSELECT文は"SET TIME ZONE"コマンドなどで結果が変更されるためキャッシュされません。
     また、TIMESTAMPZやTIMEZ型を返す関数を含むSELECT文も同様の理由でキャッシュされません。
     Discussion: <ulink url="https://www.pgpool.net/pipermail/pgpool-general/2022-July/008344.html">[pgpool-general: 8285]</ulink>
    </para>
   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <title>ドキュメント修正</title>
  <itemizedlist>

   <listitem>
    <!--
    2022-07-19 [a173986d]
    -->
    <para>
     Doc: 特定のSELECT文がキャッシュされないことに言及しました。(Tatsuo Ishii)
    </para>
    <para>
     特定のSELECT文は以下です。
     <itemizedlist>
      <listitem>
       <para>
        TIMESTAMP WITH TIMEZONE、TIME WITH TIMEZONEを返す関数を使っているSELECT
       </para>
      </listitem>
      <listitem>
       <para>
        TIMESTAMP WITH TIMEZONE、TIME WITH TIMEZONEへのキャストを含むSELECT
       </para>
      </listitem>
      <listitem>
       <para>
        SQLValueFunction (CURRENT_TIME, CURRENT_USERなど)を含むSELECT
       </para>
      </listitem>
     </itemizedlist>
    </para>
   </listitem>

   <listitem>
    <!--
    2022-06-30 [c68eb619]
    -->
    <para>
     Doc: Unixドメインソケット接続するときのPCPパスワードファイルの使用についての説明を修正しました。(Masaya Kawamoto)
    </para>
    <para>
     pcppassファイルのlocalhostエントリはデフォルトのPCPソケットディレクトリパスへの接続とのみマッチして、全てのUnixソケット接続には使用されません。
     この振る舞いはpgpassファイルと同じです。
    </para>
   </listitem>

   <listitem>
    <!--
    2022-06-02 [24ceef98]
    -->
    <para>
     Doc: <xref linkend="guc-memqcache-maxcache">と<xref linkend="guc-memqcacheexpire">の誤った説明を修正しました。(Tatsuo Ishii)
    </para>
    <para>
     これらのパラメータは設定ファイルの再読み込みでは変更できず、Pgpool-IIの再起動が必要です。

     Discussion: <ulink url="https://www.pgpool.net/pipermail/pgpool-general/2022-June/008254.html">[pgpool-general: 8195]</ulink>
    </para>
   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <title>回帰テスト修正</title>
  <itemizedlist>

   <listitem>
    <!--
    2022-07-10 [8c747408]
    -->
    <para>
     Test: 回帰テストで<productname>Pgpool-II</productname>のバージョンを表示するようになりました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2022-07-09 [8d21c1e2]
    -->
    <para>
     Test: 適切なinstall directoryでpgpool.confを探すように回帰テストスクリプトを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

  </itemizedlist>
 </sect2>
</sect1>


<sect1 id="release-3-7-24">
 <title>リリース 3.7.24</title>
  <note>
   <title>リリース日</title>
   <simpara>2022-05-19</simpara>
  </note>

 <sect2>
  <title>変更点</title>
  <itemizedlist>
   <listitem>
    <!--
    2022-05-16 [4d224d9]
    -->
    <para>
     <productname>Pgpool-II</productname>メインプロセスの停止を強化しました。(Tatsuo Ishii)
    </para>
    <para>
     「pgpool stop」が一定期間（現在5秒）以内にメインプロセスを終了できなかった場合は、信号を再送信するように修正しました。
    </para>
   </listitem>

   <listitem>
    <!--
    2022-05-02 [a9389b9]
    -->
    <para>
     <xref linkend="pcp-proc-count">コマンドのPIDの長さを7文字に変更しました。(Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2022-03-12 [dd502b6]
    -->
    <para>
     Parseメッセージ処理のエラーメッセージにメッセージの種類、バックエンドノードIDを含めるように改善しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2022-03-11 [a44d364]
    -->
    <para>
     ParameterStatusメッセージのログレベルをLOGからDEBUG5にダウングレードしました。(Tatsuo Ishii)
    </para>
    <para>
     Discussion: <ulink url="https://www.pgpool.net/pipermail/pgpool-general/2022-March/008101.html">[pgpool-general: 8042]</ulink>
    </para>
   </listitem>

   <listitem>
    <!--
    2022-02-28 [fbe2f31]
    2022-02-28 [2bbc376]
    -->
    <para>
     <xref linkend="guc-pcp-listen-addresses">のデフォルト値を「*」から「localhost」に変更しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2022-02-01 [50425a7]
    -->
    <para>
     <xref linkend="pcp-watchdog-info">のフィールド名を変更しました。(Muhammad Usama)
    </para>
   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <title>不具合修正</title>
  <itemizedlist>
   <listitem>
    <!--
    2022-04-27 [3337aa8]
    -->
    <para>
     lost状態のリモート<productname>Pgpool-II</productname>ノードが再起動後にクラスタに再参加できない問題を修正しました。(Muhammad Usama)
    </para>
    <para>
     報告: <ulink url="https://www.pgpool.net/pipermail/pgpool-general/2021-November/007954.html">[pgpool-general: 7896]</ulink>
    </para>
   </listitem>

   <listitem>
    <!--
    2022-03-04 [6416f43]
    -->
    <para>
     プライマリ検索中にバックエンドが失敗またはシャットダウンした場合にPgpool-IIのメインプロセスが終了してしまう問題を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2022-03-03 [507feea]
    -->
    <para>
     Watchdogで発生するセグメンテーション違反を修正しました。(Muhammad Usama)
    </para>
    <para>
     Discussion: <ulink url="https://www.pgpool.net/pipermail/pgpool-general/2022-March/008089.html">[pgpool-general: 8030]</ulink>
    </para>
   </listitem>
  </itemizedlist>
 </sect2>

 <sect2>
  <title>ドキュメント修正</title>
  <itemizedlist>
   <listitem>
    <!--
    2022-04-28 [d5b2555]
    2022-04-28 [4feedf0]
    -->
    <para>
     Doc: pcp_watchdog_infoの出力例を更新しました。(Bo Peng)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>

 <sect2>
  <title>回帰テスト修正</title>
  <itemizedlist>
   <listitem>
    <!--
    2022-04-19 [7aed95e]
    -->
    <para>
     セグメンテーション違反を検出するようにテストスクリプトを改善しました。(Bo Peng)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>
</sect1>

<sect1 id="release-3-7-23">
 <title>リリース 3.7.23</title>
  <note>
   <title>リリース日</title>
   <simpara>2022-02-17</simpara>
  </note>

 <sect2>
  <title>変更点</title>
  <itemizedlist>
   <listitem>
    <!--
    2022-01-06 [6ccbbee4]
    -->
    <para>
     <varname>in_hot_standby</varname>によるメッセージ長の違いに関する不要なログを抑制しました。(Tatsuo Ishii)
    </para>
    <para>
     PostgreSQL 14 は新しいパラメータを導入しました: <ulink url="https://www.postgresql.org/docs/14/runtime-config-preset.html">in_hot_standby</ulink>
    </para>
    <para>
     この値はスタンバイサーバの場合は "on" で、プライマリサーバの場合は "off" になります。
     その結果 pgpool のログは以下のメッセージで溢れていました。
    </para>

    <programlisting>
     LOG:  reading message length
     DETAIL:  message length (22) in slot 1 does not match with slot 0(23)
    </programlisting>

    <para>
     これを防ぐために、パラメータ名が<varname>in_hot_standby</varname>でない場合にのみログを出力するようになりました。
    </para>
    <para>
     また、メッセージにパラメータ名を表示するようになりました。例を示します。
    </para>

    <programlisting>
     LOG:  ParameterStatus "TimeZone": node 1 message length 30 is different from main node message length 24
    </programlisting>

    <para>
     Discussion: <ulink url="https://www.pgpool.net/pipermail/pgpool-hackers/2021-December/004077.html">[pgpool-hackers: 4076]</ulink>
    </para>
   </listitem>

   <listitem>
    <!--
    2022-02-13 [fd8b0fb2]
    -->
    <para>
     パラメータステータスの取り扱いを変更しました。(Tatsuo Ishii)
    </para>
    <para>
     バックエンドからパラメータステータスのメッセージが届いたときにただメモリー上に記憶するだけでなく、フロントエンドに転送するようになりました。
    </para>
   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <title>不具合修正</title>
  <itemizedlist>

   <listitem>
    <!--
    2022-01-31 [3f3c8ade]
    -->
    <para>
     <command>pcp_node_info</command>の実行の際に長時間待機する不具合を修正しました。(Tatsuo Ishii)
    </para>
    <para>
     Discussion: <ulink url="https://www.pgpool.net/pipermail/pgpool-hackers/2022-January/004110.html">[pgpool-hackers: 4109]</ulink>
    </para>
   </listitem>

   <listitem>
    <!--
    2022-02-02 [0ef11f32]
    -->
    <para>
     <productname>Coverity</productname>によって見つかったヘルスチェックプロセスの問題を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2022-02-02 [9c663530]
    -->
    <para>
     <productname>Coverity</productname>によって見つかったメモリリークを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2022-02-06 [04679cb6]
    -->
    <para>
     プライマリノードが存在しない場合の対処をするように<function>failover()</function>を修正しました。(Tatsuo Ishii)
    </para>
    <para>
     プライマリノードが存在しない場合に pgpool が起動したときなど<varname>Req_info->primary_node_id</varname>が -1 である場合に<function>failover()</function>は<function>find_primary_node_repeatedly()</function>の呼び出しをスキップしていました。
     また、<varname>follow_master_command</varname>も実行されませんでした。
    </para>
    <para>
     Discussion: <ulink url="https://www.pgpool.net/pipermail/pgpool-hackers/2022-February/004114.html">[pgpool-hackers: 4113]</ulink>
    </para>
   </listitem>

   <listitem>
    <!--
    2022-02-10 [81cb3ccd]
    -->
    <para>
     バックエンドに接続できないときにストリーミングレプリケーションチェックプロセスがリトライしないように修正しました。(<ulink url="https://www.pgpool.net/mantisbt/view.php?id=742">bug 742</ulink>)(Bo Peng)
    </para>
    <para>
     このリトライによってフェイルオーバに時間がかかっていました。
    </para>
   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <title>ドキュメント修正</title>
  <itemizedlist>
   <listitem>
    <!--
    2022-01-07 [3a01e9ff]
    -->
    <para>
     <varname>ParameterStatus</varname>と<varname>in_hot_standby</varname>パラメータに関する制約を追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2022-02-02 [285669de]
    -->
    <para>
     <varname>set_config</varname>に関する制約を追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <title>テストツール修正</title>
  <itemizedlist>

   <listitem>
    <!--
    2022-02-07 [422d3541]
    2022-02-06 [00cf7715]
    -->
    <para>
     <command>pgpool_setup</command>が作成するfailoverスクリプトを修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <command>pgpool_setup</command>が<filename>failover.sh</filename>を作成するとき、プライマリサーバが存在しない場合を考慮していませんでした。
    </para>
   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <title>回帰テスト修正</title>
  <itemizedlist>

   <listitem>
    <!--
    2021-12-22 [be947277]
    -->
    <para>
     再コンパイルしないで既存のインストールで回帰テストを実行できるようになりました。(Tatsuo Ishii)
    </para>
    <para>
     Discussion: <ulink url="https://www.pgpool.net/pipermail/pgpool-hackers/2021-December/004078.html">[pgpool-hackers: 4077]</ulink>
    </para>
   </listitem>

   <listitem>
    <!--
    2022-01-13 [20b9a031]
    -->
    <para>
     noinstall モード時の<command>pgpool_setup</command>と<command>watchdog_setup</command>のバイナリパスを修正しました。(Bo Peng)
    </para>
   </listitem>

  </itemizedlist>
 </sect2>
</sect1>

<sect1 id="release-3-7-22">
 <title>リリース 3.7.22</title>
  <note>
   <title>リリース日</title>
   <simpara>2021-12-23</simpara>
  </note>

 <sect2>
  <title>変更点</title>
  <itemizedlist>

   <listitem>
    <!--
    2021-12-03 [1a05ad8c]
    -->
    <para>
     yaccとの非互換性によって出力されるbisonの警告を抑制しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2021-11-22 [082fb960]
    -->
    <para>
     冗長なコードを修正しました。(Tatsuo Ishii)
    </para>
    <para>
     パッチはLu Chenyangによって提供されました。
    </para>
   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <title>ドキュメント修正</title>
  <itemizedlist>

   <listitem>
    <!--
    2021-12-10 [66f48ef0]
    -->
    <para>
     Doc: <command>pcp_watchdog_info</command>マニュアルの誤字を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2021-11-25 [af77219d]
    -->
    <para>
     Doc: リリースノートの誤字を修正しました。(Bo Peng)
    </para>
   </listitem>

  </itemizedlist>
 </sect2>
</sect1>

<sect1 id="release-3-7-21">
 <title>リリース 3.7.21</title>
  <note>
   <title>リリース日</title>
   <simpara>2021-11-18</simpara>
  </note>

 <sect2>
  <title>セキュリティリリース</title>
  <itemizedlist>
   <listitem>
    <!--
    2021-11-17 [13c53a77]
    -->
    <para>
     SSL暗号化ハンドシェイク後の余計なデータを拒否するようにしました。(Tatsuo Ishii)
    </para>
    <para>
     サーバサイドのSSLネゴシエーションの実装において、任意のSQLコマンドを実行できる中間者攻撃が可能でした。
     これはPgpool-IIがクライアント認証で証明書認証を使用しているか、hotssl + trust認証の場合に可能でした。
     PostgreSQLのCVE-2021-23214と似た脆弱性です。
    </para>
    <para>
     同様に、クライアントサイドのSSLネゴシエーション実装において、任意の結果に改ざんする中間者攻撃が可能でした。
     これはPostgreSQLがクライアント認証でhostssl + trust認証を使用しているときに可能でした。
     証明書認証の場合には、Pgpool-IIはPgpool-IIとPostgreSQL間で証明書認証を実装していないため問題ありません。
     PostgreSQLのCVE-2021-23222と似た脆弱性です。
    </para>
   </listitem>
  </itemizedlist>
 </sect2>

 <sect2>
  <title>変更点</title>
  <itemizedlist>

   <listitem>
    <!--
    2021-11-16 [a5bedb66]
    -->
    <para>
     <command>pg_terminate_backend()</command>の処理に関する<productname>PostgreSQL 14</productname>対応をしました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2021-10-24 [6cf9f874]
    -->
    <para>
     <productname>Pgpool-II</productname>メインプロセスのSIGCHLDハンドラを改良しました。(Tatsuo Ishii)
    </para>
    <para>
     <productname>Pgpool-II</productname>の子プロセスがSIGKILLシグナルでkillされたとき、SIGCHLDハンドラは他のシグナルと同じようにLOGレベルメッセージを発していました。
     しかし、SIGKILLシグナルはOMM killerによるkillなど重要なイベントなので、WARNINGレベルのメッセージを発するようにしました。
     Michail Alexakisから提案されました。
     Discussion: <ulink url="https://www.pgpool.net/pipermail/pgpool-general/2021-October/007808.html">[pgpool-general: 7750]</ulink>
    </para>
   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <title>不具合修正</title>
  <itemizedlist>

   <listitem>
    <!--
    2021-09-16 [63bde716]
    -->
    <para>
     <command>COPY FROM</command>中のハングアップを修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <command>COPY FROM</command>中にエラーが発生したとき、<productname>Pgpool-II</productname>はフロントエンドから<command>COPY</command>終了マーカーが送信されたあと、バックエンドからの応答を永遠に待っている可能性がありました。
     Bo Pengによって発見されました。
    </para>
   </listitem>

   <listitem>
    <!--
    2021-08-18 [c216cc76]
    -->
    <para>
     rawモードでの誤った負荷分散ノードの表示を修正しました。(Bo Peng)
    </para>
    <para>
     rawモードでは、<productname>Pgpool-II</productname>はすべてのクエリをメインノードに送信します。
     この不具合は表示上の問題だけで、クエリの転送処理に影響はないですが、ユーザを混乱させる可能性があるので、修正しました。
    </para>
   </listitem>

   <listitem>
    <!--
    2021-08-08 [28d3955c]
    -->
    <para>
     <command>PGPOOL SHOW ALL</command>の実行結果に<varname>backend_flag*</varname>が2回表示される不具合を修正しました。(Tatsuo Ishii)
    </para>

   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <title>ドキュメント修正</title>
  <itemizedlist>

   <listitem>
    <!--
    2021-10-04 [e05912af]
    -->
    <para>
     typoを修正しました。(Bo Peng)
    </para>
    <para>
     パッチはKazufumi Notoによって提供されました。
    </para>
   </listitem>

   <listitem>
    <!--
    2021-08-09 [b9ed838e]
    -->
    <para>
     Doc: <command>PGPOOL SHOW</command>コマンドを実行する際に、大文字を含むパラメータ名の場合には、
     パラメータ名をダブルクォートで囲んで実行する必要があることを追加しました。(Bo Peng)
    </para>
   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <title>テストツール修正</title>
  <itemizedlist>

   <listitem>
    <!--
    2021-08-25 [3290c004]
    -->
    <para>
     新しいメインノードが利用できない場合に何もしないように<command>pgpool_setup</command>を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <title>回帰テスト修正</title>
  <itemizedlist>

   <listitem>
    <!--
    2021-11-16 [8bf7c7a5]
    -->
    <para>
     たまに発生する073.pg_terminate_backendの失敗を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2021-09-23 [e370f4a0]
    -->
    <para>
     テストの失敗を防ぐためにpsqlコマンドのパスを修正しました。(Bo Peng)
    </para>
   </listitem>

  </itemizedlist>
 </sect2>
</sect1>

<sect1 id="release-3-7-20">
 <title>リリース 3.7.20</title>
  <note>
   <title>リリース日</title>
   <simpara>2021-08-05</simpara>
  </note>

 <sect2>
  <title>変更点</title>
  <itemizedlist>

   <listitem>
    <!--
    2021-05-27 [38fbfb8]
    -->
    <para>
     ドメイン名を含めたホスト名の長さの最大値を変更しました。(Tatsuo Ishii)
    </para>
    <para>
     ホスト名の長さの最大値を128にしていましたが、正しくは254でした。
     Discussion: <ulink url="https://www.pgpool.net/pipermail/pgpool-hackers/2021-May/003904.html">[pgpool-hackers: 3903]</ulink>
    </para>
   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <title>不具合修正</title>
  <itemizedlist>

   <listitem>
    <!--
    2021-07-07 [68a69a5]
    -->
    <para>
     クエリキャッシュで<varname>SQLValueFunctions</varname>を含むクエリをキャッシュしないようにしました。(Tatsuo Ishii)
    </para>
    <para>
     <varname>SQLValueFunctions</varname>の一覧は以下になります。
     <itemizedlist>
      <listitem>
       <para>
        CURRENT_DATE
       </para>
      </listitem>
      <listitem>
       <para>
        CURRENT_TIME
       </para>
      </listitem>
        <listitem>
       <para>
        CURRENT_TIMESTAMP
       </para>
      </listitem>
        <listitem>
       <para>
        LOCALTIME
       </para>
      </listitem>
        <listitem>
       <para>
        LOCALTIMESTAMP
       </para>
      </listitem>
        <listitem>
       <para>
        CURRENT_ROLE
       </para>
      </listitem>
        <listitem>
       <para>
        CURRENT_USER
       </para>
      </listitem>
      <listitem>
       <para>
        SESSION_USER
       </para>
      </listitem>
      <listitem>
       <para>
        USER
       </para>
      </listitem>
      <listitem>
       <para>
        CURRENT_CATALOG
       </para>
      </listitem>
      <listitem>
       <para>
        CURRENT_SCHEMA
       </para>
      </listitem>
     </itemizedlist>
    </para>
   </listitem>

   <listitem>
    <!--
    2021-07-01 [4b5605f]
    -->
    <para>
     SIモードにおける不正なメッセージの送信を修正しました。(Tatsuo Ishii)
    </para>
    <para>
     クエリがシリアル化エラーなどの特定の理由によってアボートしたとき、<productname>Pgpool-II</productname>は
     メインノード以外で実行されているトランザクションを中止するためにエラークエリを送信します。そのメッセージ長が
     正しくなかったためバックエンドで「invalid string in message」エラーが発生していました。
    </para>
   </listitem>

   <listitem>
    <!--
    2021-05-22 [c078568]
    -->
    <para>
     watchdog通信の競合状態を修正しました。(Tatsuo Ishii)
    </para>
    <para>
     メインプロセスがwatchdogプロセスから通知された処理を実行中に、watchdogプロセスが新しいメッセージを
     メインプロセスに通知したとき、新しいメッセージが処理されるまでに大幅な遅延が発生していました。
     Discussion: <ulink url="https://www.pgpool.net/pipermail/pgpool-hackers/2021-May/003901.html">[pgpool-hackers: 3900]</ulink>
    </para>
   </listitem>

   <listitem>
    <!--
    2021-05-20 [6961817]
    -->
    <para>
     再起動後にwatchdogノードステータスが更新されない問題を修正しました。
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=684">bug 684</ulink>) (Muhammad Usama)
    </para>
   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <title>ドキュメント修正</title>
  <itemizedlist>

     <listitem>
    <!--
    2021-07-14 [6917c31]
    -->
    <para>
     Doc: いくつかのドキュメントのtypoを修正しました。(Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2021-07-07 [c80c30d]
    -->
    <para>
     Doc: インメモリクエリキャッシュのtypoを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2021-06-02 [5dc0407]
    -->
    <para>
     Doc: <xref linkend="GUC-WD-LIFE-POINT">の説明を修正しました。(Masaya Kawamoto)
    </para>
   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <title>テストツール修正</title>
  <itemizedlist>

   <listitem>
    <!--
    2021-06-28 [2977d22]
    -->
    <para>
     <command>pgpool_setup</command>で使用されるrsyncのパラメータを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2021-06-15 [99432d3]
    -->
    <para>
     <command>pgpool_setup</command>中のベースバックアップ処理を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2021-05-29 [e1f1176]
    -->
    <para>
     <command>watchdog_setup</command>のスクリプトを修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <command>watchdog_setup</command>によって生成されるshutdownallスクリプトは、全体シャットダウンでは
     不必要なフェイルオーバ処理を引き起こしていました。
    </para>
   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <title>回帰テスト修正</title>
  <itemizedlist>

   <listitem>
    <!--
    2021-06-21 [a7c0f74]
    -->
    <para>
     031.connection_life_timeの不具合を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

  </itemizedlist>
 </sect2>
</sect1>

<sect1 id="release-3-7-19">
 <!--
 <title>Release 3.7.19</title>
 -->
 <title>リリース 3.7.19</title>
 <note>
  <!--
  <title>Release Date</title>
  -->
  <title>リリース日</title>
  <simpara>2021-05-20</simpara>
 </note>

 <sect2>
  <!--
  <title>Bug fixes</title>
  -->
  <title>不具合修正</title>
  <itemizedlist>
   <listitem>
    <!--
    2021-05-11 [241bee3]
    -->
    <para>
     Doc: <xref linkend="guc-heartbeat-device">の説明を修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <xref linkend="guc-heartbeat-device">パラメータは、<productname>Pgpool-II</productname>がrootで起動する場合にのみ使用できます。
    </para>
   </listitem>

   <listitem>
    <!--
    2021-04-30 [f1e2b71]
    -->
    <para>
     pgpool0の配下のみにデータベースクラスタを作成するように<xref linkend="watchdog-setup">を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2021-04-09 [16d07f7]
    -->
    <para>
     クエリキャッシュが有効になっている場合のpgpoolのクラッシュを修正しました。
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=700">bug 700</ulink>) (Tatsuo Ishii)
    </para>
    <para>
     ストリーミングレプリケーションモードと論理レプリケーションモード以外でCloseCompleteを受信すると、Pgpool-IIがクラッシュしていました。
    </para>
   </listitem>

   <listitem>
    <!--
    2021-04-05 [7d54c1b]
    -->
    <para>
     クエリキャッシュがストリーミングレプリケーションモードと論理レプリケーションモード以外で作成されない不具合を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2021-03-16 [f07fdb0]
    -->
    <para>
     Startupパケットを受信したときのデバッグメッセージを改善しました。 (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2021-05-09 [9971171]
    2021-05-05 [96578bd]
    2021-05-04 [69f3c9b]
    2021-04-20 [6150d26]
    2021-04-20 [d5469da]
    2021-04-13 [b3bddbe]
    2021-02-20 [d9f25b8]
    -->
    <para>
     Doc: 多数ドキュメントの改善を行いました。 (Tatsuo Ishii, Bo Peng)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>
</sect1>

<sect1 id="release-3-7-18">
 <!--
 <title>Release 3.7.18</title>
 -->
 <title>リリース 3.7.18</title>
 <note>
  <!--
  <title>Release Date</title>
  -->
  <title>リリース日</title>
  <simpara>2021-02-18</simpara>
 </note>

 <sect2>
  <!--
  <title>Changes</title>
  -->
  <title>変更点</title>
  <itemizedlist>
   <listitem>
    <!--
    2020-12-08 [db613fd]
    -->
    <para>
     <productname>Pgpool-II</productname>起動時に既存のwatchdogコマンドソケットファイルを削除するように修正しました。(Muhammad Usama)
    </para>
    <para>
     パッチはMasaya Kawamotoによって提供されました。
    </para>
   </listitem>
  </itemizedlist>
 </sect2>

 <sect2>
  <!--
  <title>Bug fixes</title>
  -->
  <title>不具合修正</title>
  <itemizedlist>
   <listitem>
    <!--
    2021-02-14 [4ddfe82]
    -->
    <para>
     <xref linkend="PGPOOL-ADM-PCP-NODE-INFO">の誤ったweightの表示を修正しました。 (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2021-02-08 [9b251e0]
    -->
    <para>
     Watchdogリーダーによる同期処理後に、ヘルスチェックプロセスが起動されない不具合を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2021-02-04 [62b9d9a]
    -->
    <para>
     <command>watchdog_setup</command>の誤ったデータベースクラスタのパスを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2021-01-24 [eefe912]
    -->
    <para>
     DBノードごとに個別のアーカイブディレクトリを作成するように<command>pgpool_setup</command>を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2021-01-13 [d36cc99]
    -->
    <para>
     共有メモリの割り当て中のエラーを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2021-01-01 [08db48f]
    -->
    <para>
     ERRORが発生した場合、<xref linkend="GUC-CHILD-MAX-CONNECTIONS">が正しくカウンタされない不具合を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-12-15 [59d7431]
    2020-12-13 [00d103f]
    -->
    <para>
     backend_flag0 = 'ALWAYS_PRIMARY|ALLOW_TO_FAILOVER'またはfailover_command=''の場合に発生しうるセグメンテーション違反を修正しました。
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=672">bug 672</ulink>) (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-11-20 [14dadc6]
    -->
    <para>
     Doc: <xref linkend="GUC-LOG-STANDBY-DELAY">のドキュメントを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>
</sect1>

<sect1 id=release-3-7-17>
 <!--
 <title>Release 3.7.17</title>
 -->
 <title>リリース 3.7.17</title>
 <note>
  <!--
  <title>Release Date</title>
  -->
  <title>リリース日</title>
  <simpara>2020-11-19</simpara>
 </note>

 <sect2>
  <!--
  <title>Changes</title>
  -->
  <title>変更点</title>
  <itemizedlist>
   <listitem>
    <!--
    2020-11-17 [6382452]
    -->
    <para>
     Doc: ドキュメントの「Auroraの設定例」を更新しました。(Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-10-03 [1b81b2c]
    -->
    <para>
     Doc: <productname>Pgpool-II</productname>が<acronym>GSSAPI</acronym>をサポートしないという注意事項を追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-10-03 [0b7a180]
    -->
    <para>
	 フロントエンドが<acronym>GSSAPI</acronym>暗号化接続を要求した場合、
	 <productname>Pgpool-II</productname>は<acronym>GSSAPI</acronym>をサポートしていないため、
	 これまでエラーを返していましたが、他の方式での接続を要求するように変更しました。
    </para>
    <para>
     パッチはTatsuo Ishiiにより作成され、Umar Hayatによりレビュー・テストされました。
    </para>
   </listitem>
  </itemizedlist>
 </sect2>

 <sect2>
  <!--
  <title>Bug fixes</title>
  -->
  <title>不具合修正</title>
  <itemizedlist>
   <listitem>
    <!--
    2020-11-17 [94cbceb]
    -->
    <para>
	 ネイティブレプリケーションモードで「INSERT ... ON CONFLICT」クエリ書換えの不具合を修正しました。
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=654">bug 654</ulink>) (Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-10-30 [a33017b]
    -->
    <para>
	 クエリがキャンセルされたときにコネクションカウントが減少しない不具合を修正しました。
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=656">bug 656</ulink>) (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-09-30 [03abedd]
    -->
    <para>
     Doc: <productname>PostgreSQL</productname>の使用可能なバージョンを7.4以降に修正しました。(Tatsuo Ishii)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>
</sect1>

<sect1 id=release-3-7-16>
 <!--
 <title>Release 3.7.16</title>
 -->
 <title>リリース 3.7.16</title>
 <note>
  <!--
  <title>Release Date</title>
  -->
  <title>リリース日</title>
  <simpara>2020-09-17</simpara>
 </note>
 <sect2>
  <!--
  <title>Changes</title>
  -->
  <title>変更点</title>
  <itemizedlist>
   <listitem>
    <!--
    2020-09-13 [89a0ec1]
    -->
    <para>
     <!--
     Follow the guide line of PostgreSQL 12.4 regarding extensions. (Tatsuo Ishii)
     -->
	 <productname>PostgreSQL</productname> 12.4 のガイドラインに従って<productname>Pgpool-II</productname>の拡張機能のスクリプトを修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     CREATE OR REPLACE FUNCTION should be avoided. Use CREATE FUNCTION instead.
     -->
	 <command>CREATE OR REPLACE FUNCTION</command>の使用を避けて、代わりに<command>CREATE FUNCTION</command>を使用するように修正しました。
    </para>
   </listitem>

   <listitem>
    <!--
    2020-08-24 [c267748]
    -->
    <para>
     <!--
     Replace "PGBIN" and "LPATH" in pgpool_setup and watchdog_setup using PostgreSQL's bin path and lib path. (Bo Peng)
     -->
	 <xref linkend="PGPOOL-SETUP">と<xref linkend="WATCHDOG-SETUP">の"PGBIN"と"LPATH"を、PostgreSQLのbin pathとlib pathにしました。(Bo Peng)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>

 <sect2>
  <!--
  <title>Bug fixes</title>
  -->
  <title>不具合修正</title>
  <itemizedlist>
   <listitem>
    <!--
    2020-09-16 [957d3b3]
    -->
    <para>
     <!--
     Doc: fix the incorrect description regarding the running modes of Pgpool-II in which online recovery is available. (Bo Peng)
     -->
     Doc: オンラインリカバリが利用可能なPgpool-IIの動作モードに関する誤った説明を修正しました。(Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-09-14 [355bfb9]
    -->
    <para>
     <!--
     Remove unnecessary checks in some code path. (Tatsuo Ishii)
     -->
	 いくつかの不要なチェックをソースコードから削除しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     Patch contributed by Hou, Zhijie.
     -->
	 パッチはby Hou, Zhijieにより提供されました。
    </para>
   </listitem>

   <listitem>
    <!--
    2020-09-06 [0883832]
    -->
    <para>
     <!--
     Fix relcache query sometimes sent to other than primary. (Tatsuo Ishii)
     -->
	 relcacheクエリがプライマリ以外に送信される不具合を修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     In streaming replication mode, relcache queries are supposed to be
     sent to the primary node.  But actually they were not sent to the primary
     node if primary node was not the master node. Typically this could
     happen when the primary is not node 0.
     -->
	 ストリーミングレプリケーションモードでは、relcacheクエリはプライマリノードに送信されるようになっています。
     しかし、実際には、プライマリノードがマスターノードでない場合、relcacheクエリはプライマリノードに送信されませんでした。
     通常、これはプライマリがノード0でない場合に発生する可能性があります。
    </para>
   </listitem>

   <listitem>
    <!--
    2020-09-01 [89ce1e5]
    -->
    <para>
     <!--
     Fix connection_life_time not working when serialize_accept is enabled. (Tatsuo Ishii)
     -->
	 <xref linkend="GUC-SERIALIZE-ACCEPT">が有効になっているときに<xref linkend="GUC-CONNECTION-LIFE-TIME">が機能しない問題を修正しました。(Tatsuo Ishii)
    </para>
    <para>
	 Discussion: <ulink url="https://www.pgpool.net/pipermail/pgpool-general/2020-August/007233.html">[pgpool-general: 7175]</ulink>
    </para>
   </listitem>

   <listitem>
    <!--
    2020-08-30 [fd27549]
    -->
    <para>
     <!--
     Display more informative error message in authentication process. (Tatsuo Ishii)
     -->
	 認証処理において有益なエラーメッセージを表示するように修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-08-21 [442f683]
    -->
    <para>
     <!--
     Fix segfault in pgpool child process in certain case. (Tatsuo Ishii)
     -->
	 特定の場合に発生するpgpool子プロセスのセグメンテーション違反を修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
	 This issue can be reproduced with the following steps:
     -->
	 以下の方法で再現できます。
     <orderedlist>
	  <listitem>
	   <para>
        <!--
        shutdown all backends.
        -->
		すべてのバックエンドを停止します。
	   </para>
	  </listitem>
	  <listitem>
	   <para>
        <!--
        connect to pgpool with invalid client. I have used pcp_attach_node with pgpool's port number, not pcp's.
        -->
		無効なクライアントでpgpoolに接続します。例えば、pcpのポートではなく、pgpoolのポート番号を使用して<command>pcp_attach_node</command>を実行します。
	   </para>
	  </listitem>
     </orderedlist>
    </para>
   </listitem>
  </itemizedlist>
 </sect2>
</sect1>

<sect1 id=release-3-7-15>
 <!--
 <title>Release 3.7.15</title>
 -->
 <title>リリース 3.7.15</title>
 <note>
  <!--
  <title>Release Date</title>
  -->
  <title>リリース日</title>
  <simpara>2020-08-20</simpara>
 </note>

 <sect2>
  <!--
  <title>Changes</title>
  -->
  <title>変更点</title>
  <itemizedlist>
   <listitem>
    <!--
    2020-08-12 [a88d1f6]
    -->
    <para>
	 Doc: TLSバージョン1.2あるいはそれ以下のバージョンのみが<xref linkend="GUC-SSL-CIPHERS">の影響をうけるという説明を追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-05-22 [e84853c]
    -->
    <para>
	 Doc: <xref linkend="GUC-WD-PRIORITY">に関する説明を改善しました。(Bo Peng)
    </para>
    <para>
     パッチはKenichiro Tanakaにより提供されました。
    </para>
   </listitem>

   <listitem>
    <!--
    2020-05-22 [52d6e2d]
    -->
    <para>
	 <filename>pool_hba.conf</filename>サンプルファイルに<literal>hostssl/hostnossl</literal>に関する説明を追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-07-17 [44096e2]
    2020-07-16 [5115de1]
    2020-06-30 [8941202]
    2020-05-30 [6f128fc]
    2020-05-23 [dde82d3]
    2020-05-23 [7a73705]
    2020-07-28 [1e13a96]
    -->
    <para>
	 Doc: 多数ドキュメントの改善を行いました。(Tatsuo Ishii)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>

 <sect2>
  <!--
  <title>Bug fixes</title>
  -->
  <title>不具合修正</title>
  <itemizedlist>
   <listitem>
    <!--
    2020-08-12 [8afa83b]
    -->
    <para>
	 pgpoolの起動時に、pidファイルが存在する場合、書き込む前にpidファイルを長さゼロに切り詰めるように修正しました。(Bo Peng)
    </para>
    <para>
	 パッチはmaliangzhuにより提供されました。
    </para>
   </listitem>

   <listitem>
    <!--
    2020-08-11 [610b983]
    -->
    <para>
	 Doc: <xref linkend="GUC-FAILBACK-COMMAND">のパラメータの説明の誤りを修正しました。(Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-08-11 [b47a050]
    -->
    <para>
	 ストリーミングレプリケーションモードでプライマリノードが0以外の場合、<xref linkend="guc-connection-life-time">が機能しない問題を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-08-05 [25e5292]
    -->
    <para>
	 -rオプション及び<productname>PostgreSQL</productname> 12での<command>pgpool_setup</command>の問題を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-07-31 [c8944c1]
    -->
    <para>
	 RPMパッケージのPCPコマンドの<literal>UNIX_DOMAIN_PATH</literal>を<filename>/var/run/postgresql</filename>に変更します。(Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
	2020-08-05 [126e62f]
    2020-07-14 [5655394]
    -->
    <para>
	 クエリキャッシュの不具合を修正しました。(Tatsuo Ishii)
    </para>
    <para>
	 クエリキャッシュが有効な場合、あるテーブルが更新された場合、<productname>Pgpool-II</productname>は自動的にそのテーブルに関係する全てのキャッシュを削除するようになっています。
	 しかし、<command>EXPLAIN ANALYZE</command>または<acronym>CTE</acronym>で更新クエリを実行した場合に、
	 これらのクエリが誤って参照クエリとして扱われ、キャッシュが削除されませんでした。
    </para>
    <para>
	 パッチはHou, Zhijieにより作成され、Tatsuo Ishiiにより修正されました。
    </para>
   </listitem>

   <listitem>
    <!--
    2020-07-09 [c96e7d4]
    -->
    <para>
	 コーナーケースで発生する<productname>Pgpool-II</productname>のハングアップを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-06-26 [25b3ca4]
    -->
    <para>
	 user、database、application_name以外のパラメータが指定された場合、startupパケットの読み取りが失敗する不具合を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-06-22 [b6cc86f]
    -->
    <para>
	 <function>pg_terminate_backend</function>を実行した時にコネクションのカウントがずれる不具合を修正しました。(Takuma Hoshiai)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-06-04 [607665b]
    -->
    <para>
     アプリケーション名が<xref linkend="GUC-LOG-LINE-PREFIX">に含まれている場合に発生するセグメンテーション違反を修正しました。 (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=615">bug 615</ulink>) (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-06-02 [5108456]
    -->
    <para>
	 ネイティブレプリケーションモードで<function>pg_terminate_backend()</function>を実行すると、フェイルオーバを引き起こしてしまう不具合を修正しました。(Takuma Hoshiai)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-05-27 [75158b1]
    -->
    <para>
     IBM Zハードウェアでの004.watchdogテストのクラッシュを修正しました。 (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=614">bug 614</ulink>) (Tatsuo Ishii)
    </para>
    <para>
	 パッチはgregn123により作成され、Tatsuo Ishiiにより修正されました。
    </para>
   </listitem>
  </itemizedlist>
 </sect2>
</sect1>

<sect1 id=release-3-7-14> 
 <!--
 <title>Release 3.7.14</title>
 -->
 <title>リリース 3.7.14</title>
 <note>
  <!--
  <title>Release Date</title>
  -->
  <title>リリース日</title>
  <simpara>2020-05-21</simpara>
 </note>

 <sect2>
  <!--
  <title>Bug fixes</title>
  -->
  <title>不具合修正</title>
  <itemizedlist>
   <listitem>
    <!--
    2020-05-16 [2fd983b]
    2020-04-26 [1304dcc]
    -->
    <para>
     <!--
     Fix build error on some system (Fedora 32). (Tatsuo Ishii)
     -->
     一部のシステム(Fedora 32)で発生するビルドエラーを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-04-23 [1221a65]
    -->
    <para>
     <!--
     Fix unnecessary checks. (Tatsuo Ishii)
     -->
     不要なチェックを削除しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     Patch contributed by sherlockcpp. Discussion: <ulink url="https://www.pgpool.net/pipermail/pgpool-general/2020-April/007062.html">[pgpool-general: 7004]</ulink>
     -->
     パッチはsherlockcppによって提供されました。Discussion: <ulink url="https://www.pgpool.net/pipermail/pgpool-general/2020-April/007062.html">[pgpool-general: 7004]</ulink>
    </para>
   </listitem>

   <listitem>
    <!--
    2020-04-23 [8ea84b9]
    -->
    <para>
     <!--
     Doc: Fix typo. (Tatsuo Ishii)
     -->
     Doc: ドキュメントのタイポを修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     Patch contributed by Umar Hayat. 
     -->
     パッチはUmar Hayatによって提供されました。
     Discussion: <ulink url="https://www.pgpool.net/pipermail/pgpool-hackers/2020-April/003587.html">[pgpool-hackers: 3587]</ulink>
    </para>
   </listitem>

   <listitem>
    <!--
    2020-04-16 [75432c0]
    -->
    <para>
     <!--
     Fix for segmentation fault in PCP process. (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=598">bug 598</ulink>) (Muhammad Usama)
     -->
     PCP プロセスのセグメンテーション違反を修正しました。(<ulink url="https://www.pgpool.net/mantisbt/view.php?id=598">bug 598</ulink>) (Muhammad Usama)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-04-12 [237793e]
    2020-04-06 [225290a]
    -->
    <para>
     <!--
     Doc: Fix typo. (Tatsuo Ishii, Bo Peng)
     -->
     Doc: タイポを修正しました。(Tatsuo Ishii, Bo Peng)
    </para>
    <para>
     <!--
     Patch provided by sherlockcpp.
     -->
     パッチはsherlockcppによって提供されました。
    </para>
   </listitem>

   <listitem>
    <!--
    2020-03-31 [9151b53]
    -->
    <para>
     <!--
     Fix <productname>Pgpool-II</productname> hangs when an Execute message is issued right after Sync message and query cache hits. (Tatsuo Ishii)
     -->
     Syncメッセージの直後にExecuteメッセージが発行され、クエリキャッシュがヒットすると、<productname>Pgpool-II</productname>がハングアップする不具合を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-03-13 [a558287]
    -->
    <para>
     <!--
     Fix problems in watchdog source code processing json data. (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=596">bug 596</ulink>) (Tatsuo Ishii)
     -->
     Watchdogのソースコードの不適切なJSONデータの処理を修正しました。(<ulink url="https://www.pgpool.net/mantisbt/view.php?id=596">bug 596</ulink>) (Tatsuo Ishii)
    </para>
    <para>
     <!--
     Patch is provided by Greg Nancarrow (Fujitsu Australia).
     -->
     パッチはGreg Nancarrow (Fujitsu Australia)によって提供されました。
    </para>
   </listitem>

   <listitem>
    <!--
    2020-03-11 [a639141]
    -->
    <para>
     <!--
     Fix possible data inconsistency in native replication mode. (Tatsuo Ishii)
     -->
     ネイティブレプリケーションモードで起こりうるデータの不整合を修正しました。(Tatsuo Ishii)
    </para>
    <para>
     Discussions:
     <ulink url="https://www.pgpool.net/pipermail/pgpool-general/2020-March/006954.html">[pgpool-general: 6896]</ulink>
     <ulink url="https://www.pgpool.net/pipermail/pgpool-hackers/2020-March/003540.html">[pgpool-hackers: 3540]</ulink>
    </para>
   </listitem>

   <listitem>
    <!--
    2020-03-06 [5ce6273]
    -->
    <para>
     <!--
     Fix watchdog ping probes fail with long hostnames due to small buffer. (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=516">bug 516</ulink>) (Bo Peng)
     -->
     ホスト名が長い場合、バッファサイズの制限によってWatchdogのpingが失敗する問題を修正しました。(<ulink url="https://www.pgpool.net/mantisbt/view.php?id=516">bug 516</ulink>) (Bo Peng)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>
</sect1>

<sect1 id=release-3-7-13> 
 <!--
 <title>Release 3.7.13</title>
 -->
 <title>リリース 3.7.13</title>
 <note>
  <!--
  <title>Release Date</title>
  -->
  <title>リリース日</title>
  <simpara>2020-02-20</simpara>
 </note>

 <sect2>
  <!--
  <title>Changes</title>
  -->
  <title>変更点</title>
  <itemizedlist>
   <listitem>
    <!--
    2020-02-18 [49ece42]
    -->
    <para>
     <!--
     Disallowing the quorum aware failover option for the native replication mode. (Muhammad Usama)
     -->
     ネイティブレプリケーションモードの場合に、クォーラム合意によるフェールオーバ機能を無効にしました。(Muhammad Usama)
    </para>
    <para>
     <!--
     In native replication mode, Pgpool-II is responsible for replicating the data
     on all backend nodes, and if a node becomes quarantined then Pgpool-II stops
     sending the writes to that node. This is dangerous since it can cause data inconsistency.
     -->
     ネイティブレプリケーションモードで、<productname>Pgpool-II</productname>
     はすべてのバックエンドノードでデータをレプリケーションする役割を果たしています。
     ノードが<literal>quarantine</literal>(隔離)状態になると、<productname>Pgpool-II</productname>
     はそのノードへの書き込みを停止するので、データの不整合を引き起こす可能性があります。
    </para>
    <para>
     <!--
     So as per the discussion, we reached the conclusion to disallow failover require
     consensus and quorum existence with the native replication mode so that backend
     node should never get into quarantine when Pgpool-II is configured in the replication mode.
     -->
     そのため、レプリケーションモードの場合に、バックエンドノードが<literal>quarantine</literal>(隔離)状態にならないように、
     <xref linkend="GUC-FAILOVER-WHEN-QUORUM-EXISTS">と<xref linkend="GUC-FAILOVER-REQUIRE-CONSENSUS">機能を無効にしました。
    </para>
   </listitem>
   <listitem>
    <!--
    2020-01-28 [abbba81]
    -->
    <para>
     <!--
     Check if socket file exists at startup and remove them if PID file doesn't exist to avoid bind() failire. (Bo Peng)
     -->
     起動時のbind()エラーを回避するために、ソケットファイルが存在するかどうかを確認し、
     PIDファイルが存在しない場合、それらのソケットファイルを削除するように修正しました。(Bo Peng)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>

 <sect2>
  <!--
  <title>Bug fixes</title>
  -->
  <title>不具合修正</title>
  <itemizedlist>
   <listitem>
    <!--
    2020-02-18 [91c142d]
    -->
    <para>
     <!--
     Fix incorrect query rewriting in native replication mode. 
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=551">bug 551</ulink>) (Bo Peng)
     -->
     レプリケーションモードの場合に、クエリのタイムスタンプがリライトされない不具合を修正しました。
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=551">bug 551</ulink>) (Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-02-18 [47fc7fc]
    2020-02-17 [44249e9]
    2020-02-04 [b8ff41f]
    -->
    <para>
     <!--
     Doc: Update documentation and fix documentation typos. (Takuma Hoshiai, Tatsuo Ishii, Bo Peng)
     -->
     Doc: ドキュメントの更新、タイポの修正を行いました。(Takuma Hoshiai, Tatsuo Ishii, Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-02-12 [8712e69]
    -->
    <para>
     <!--
     Fix child process segfault after reload if "health_check_database" is empty.
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=571">bug 571</ulink>) (Bo Peng)
     -->
     <xref linkend="GUC-HEALTH-CHECK-DATABASE">が空の場合、リロード後に発生する子プロセスのセグメンテーション違反を修正しました。
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=571">bug 571</ulink>) (Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2020-02-08 [84cdb02]
    -->
    <para>
     <!--
     Fix <xref linkend="PGPOOL-SETUP"> to support <productname>PostgreSQL</productname> 12. (Tatsuo Ishii)
     -->
     <xref linkend="PGPOOL-SETUP">が<productname>PostgreSQL</productname> 12 に対応するように修正しました。(Tatsuo Ishii)
    </para>
   </listitem>
   <listitem>
    <!--
    2020-01-11 [433a7da]
    2020-01-10 [c440468]
    2020-01-04 [8b5d7f5]
    2019-12-31 [21777b9]
    2019-12-27 [ce58ddc]
    2019-12-26 [9f5a2d6]
    -->
    <para>
     <!--
     Fix occasional regression test failure. (Tatsuo Ishii)
     -->
     時々起こるリグレッションテストの失敗を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-12-12 [5f6410d]
    -->
    <para>
     <!--
     Fix replication delay worker segfault when application_name in primary_conninfo is an empty string.
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=565">bug 565</ulink>) (Tatsuo Ishii)
     -->
     primary_conninfoのapplication_nameが空の場合に発生するレプリケーション遅延チェックワーカープロセスのセグメンテーション違反を修正しました。
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=565">bug 565</ulink>) (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-12-03 [c959c8b]
    -->
    <para>
     <!--
     Fix <xref linkend="SQL-PGPOOL-SHOW"> command doesn't display <literal>ALWAYS_MASTER</literal>,
     when <xref linkend="GUC-BACKEND-FLAG"> = 'ALWAYS_MASTER'. (Takuma Hoshiai)
     -->
     <xref linkend="GUC-BACKEND-FLAG"> = 'ALWAYS_MASTER'の場合に、<xref linkend="SQL-PGPOOL-SHOW">コマンドの出力に <literal>ALWAYS_MASTER</literal>が表示されない不具合を修正しました。(Takuma Hoshiai)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-11-18 [f906d26]
    2019-11-15 [d8c1242]
    -->
    <para>
     <!--
     Fix the bug with ignored syslog setting. (Bo Peng)
     -->
     <literal>syslog</literal>が出力されない不具合を修正しました。(Bo Peng)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>
</sect1>

<sect1 id=release-3-7-12> 
 <!--
 <title>Release 3.7.12</title>
 -->
 <title>リリース 3.7.12</title>
 <note>
  <!--
  <title>Release Date</title>
  -->
  <title>リリース日</title>
  <simpara>2019-10-31</simpara>
 </note>

 <sect2>
  <!--
  <title>Bug fixes</title>
  -->
  <title>不具合修正</title>
  <itemizedlist>
   <listitem>
    <!--
    2019-10-25 [45a3469]
    -->
    <para>
     <!--
     Fix incorrect query rewrite in replication mode. (Bo Peng)
     -->
	 レプリケーションモードでの誤ったクエリの書き換えを修正しました。 (Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-10-21 [1d87df7]
    -->
    <para>
    <!--
	 Fix that health check timeout does work in certain case. (Tatsuo Ishii)
     -->
	 特定の場合にヘルスチェックのタイムアウトが正しく動作しない不具合を修正しました。(Tatsuo Ishii)
    </para>
    <para>
     Discussion: <ulink url="https://www.pgpool.net/pipermail/pgpool-hackers/2019-October/003458.html">[pgpool-hackers: 3458]</ulink>, <ulink url="https://www.pgpool.net/pipermail/pgpool-hackers/2019-October/003459.html">[pgpool-hackers: 3459]</ulink> 
    </para>
   </listitem>

   <listitem>
    <!--
    2019-10-15 [339bd21]
    -->
    <para>
    <!--
	 Doc: add <xref linkend="guc-failover-command"> description when all standby nodes are down. (Takuma Hoshiai)
     -->
	 Doc: すべてのスタンバイノードがダウンした場合の<xref linkend="guc-failover-command">の説明を追加しました。(Takuma Hoshiai)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-10-11 [32a9f5d]
    -->
    <para>
    <!--
     Doc: add note not to assign <productname>PostgreSQL</productname> servers to <xref linkend="guc-trusted-servers">. (Tatsuo Ishii)
     -->
	 Doc: <productname>PostgreSQL</productname>サーバを<xref linkend="guc-trusted-servers">に指定しないように注意事項を追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-10-14 [30aed19]
    -->
    <para>
    <!--
     Fix for miscellaneous watchdog issues. (Muhammad Usama)
     -->
	 いくつかの<literal>Watchdog</literal>の問題を修正しました。(Muhammad Usama)
    </para>
    <para>
    <!--
	 The lost nodes reported by life-check are treated as hard failures even when the node 
	 is reachable from the watchdog core.
     -->
	 lifecheckで失敗したノードはWatchdogクラスタから接続可能であっても
	 障害として扱われるように変更しました。
    </para>
    <para>
     <!--
     In the case of network partitioning or partial life-check failure, 
	 the kicked out standby node was too aggressive in trying to connect 
	 to the master or become a master itself so that potentially put the 
	 unnecessary burden on the network and the cluster nodes.
	 Fix is to make the isolated node a bit calm and wait between trying to connect to 
	 master or become a master.
     -->
     ネットワークパーティショニングまたは部分的なlifecheckの失敗の場合、
     切り離されたスタンバイノードは、マスターに接続しようとしたり、
     マスターになろうとするのに積極的すぎたため、ネットワークとクラスターノードに不必要
     な負担をかける可能性がありました。
     この問題は、切り離されたノードがマスターに接続したりマスターになろうとするのを少し待機させることで修正されました。
    </para>
    <para>
     詳細:
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=547">bug 547</ulink>)、
     <ulink url="http://www.sraoss.jp/pipermail/pgpool-general/2019-August/006730.html">[pgpool-general: 6672]</ulink>
    </para>
   </listitem>

   <listitem>
    <!--
    2019-10-10 [4b726df]
    -->
    <para>
    <!--
 	 Fix assorted ancient v2 protocol bugs. (Tatsuo Ishii)
     -->
     各種のv2プロトコルのバグを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-10-08 [45ac39b]
    -->
    <para>
    <!--
	 Fix problem that <xref linkend="guc-syslog-facility"> doesn't change by reload. 
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=548">bug 548</ulink>) (Takuma Hoshiai)
     -->
     <xref linkend="guc-syslog-facility">の変更がリロードによって反映されない不具合を修正しました。
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=548">bug 548</ulink>) (Takuma Hoshiai)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-10-03 [fed3d6b]
    -->
    <para>
     <!--
     Fix Pgpool-II shutdown failed in certain case. (Tatsuo Ishii)
     -->
     特定の場合に<productname>Pgpool-II</productname>のシャットダウンが失敗する不具合を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-09-29 [94b96ed]
    -->
    <para>
    <!--
     Allow the lost standby node to rejoin the master watchdog node when it gets rediscovered by the lifecheck.
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=545">bug 545</ulink>) (Muhammad Usama)
     -->
	 切り離されたスタンバイノードがlifecheckによって再発見されたときに、マスターウォッチドッグノードに再参加できるように修正しました。
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=545">bug 545</ulink>) (Muhammad Usama)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-08-06 [2d27189]
    -->
    <para>
     <!--
	 Overhaul health check debug facility. (Tatsuo Ishii)
     -->
	 ヘルスチェックのデバッグ機能を改善しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-09-15 [a333a45]
    -->
    <para>
     <!--
     Fix segfault when executing an erroneous query after DEALLOCATE a named statement.
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=546">bug 546</ulink>) (Tatsuo Ishii)
     -->
	 名前付きステートメントをDEALLOCATEした後に、誤ったクエリを実行すると
     セグメンテーション違反が発生する不具合を修正しました。
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=546">bug 546</ulink>) (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-09-04 [3ba4e73]
    -->
    <para>
     <!--
     Doc: mention that VIP will not be brougt up if quorum does not exist. (Tatsuo Ishii)
     -->
	 Doc: クォーラムが存在しない場合、VIPは起動されないことをドキュメントに追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-08-16 [956c040]
    -->
    <para>
     <!--
     Add "-I" option to <xref linkend="guc-arping-cmd"> command default setting. (Bo Peng)
     -->
	 <xref linkend="guc-arping-cmd">パラメータのデフォルト値にネットワークインターフェイスオプション -I を含めるように修正しました。(Bo Peng)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>
</sect1>

<sect1 id=release-3-7-11> 
 <!--
 <title>Release 3.7.11</title>
 -->
 <title>リリース 3.7.11</title>
 <note>
  <!--
  <title>Release Date</title>
  -->
  <title>リリース日</title>
  <simpara>2019-08-15</simpara>
 </note>
 <sect2>
  <!--
  <title>Enhancements</title>
  -->
  <title>改善点</title>
  <itemizedlist>
   <listitem>
    <!--
    2019-08-08 [7ea54a1]
    -->
    <para>
     <!--
     Import some of memory manager debug facilities from <productname>PostgreSQL</productname>. (Tatsuo Ishii)
     -->
     <productname>PostgreSQL</productname>からメモリマネージャデバッグ機能の一部をインポートしました。(Tatsuo Ishii)
    </para>
   </listitem>
   <listitem>
    <!--
    2019-07-24 [717411f]
    -->
    <para>
     <!--
     Use <function>pg_get_expr()</function> instead of <literal>pg_attrdef.adsrc</literal> to support for <productname>PostgreSQL</productname> 12. (Bo Peng)
     -->
     <productname>PostgreSQL</productname> 12に対応するために、<literal>pg_attrdef.adsrc</literal>のかわりに
     <function>pg_get_expr()</function>を使用するように修正しました。(Bo Peng)
    </para>
   </listitem>
   <listitem>
    <!--
    2019-08-11 [c553e51]
    2019-07-17 [6b89f9e]
    2019-07-02 [3b32bc4]
    -->
    <para>
     <!--
     Enhance shutdown script of <xref linkend="PGPOOL-SETUP">. (Tatsuo Ishii)
     -->
     <xref linkend="PGPOOL-SETUP">のshutdownスクリプトを改良しました。(Tatsuo Ishii)
      <itemizedlist> 
       <listitem>
	<para>
	 <!--
	 Make shutdownall to wait for completion of shutdown of <productname>Pgpool-II</productname>.
	 -->
	 shutdownスクリプトが<productname>Pgpool-II</productname>のシャットダウン完了を待つように修正しました。
	</para>
       </listitem>
       <listitem>
	<para>
	 <!--
	 if environment variable <varname>CHECK_TIME_WAIT</varname> is set to true, use <command>netstat</command> command to confirm usage of the <literal>TCP/IP</literal> port while executing shutdown script.
	 -->
	 環境変数<varname>CHECK_TIME_WAIT</varname>が<literal>true</literal>に設定されているとき、shutdownスクリプト実行時に<command>netstat</command>コマンドで<literal>TCP/IP</literal>ポートの使用を確認するように修正しました。 
	</para>
       </listitem>
      </itemizedlist> 
    </para>
   </listitem>
   <listitem>
    <!--
    2019-06-02 [08c0bfa]
    -->
    <para>
     <!--
     Doc: add description to <xref linkend="PG-MD5"> man page how to show <filename>pool_passwd</filename> hashed string. (Tatsuo Ishii)
     -->
     Doc: <xref linkend="PG-MD5">のドキュメントに<filename>pool_passwd</filename>ハッシュ文字列を表示させる方法を追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-05-26 [a899be1]
    -->
    <para>
     <!--
     Doc: add general description about failover. (Tatsuo Ishii)
     -->
     Doc: フェイルオーバに関する一般的な説明を追加しました。(Tatsuo Ishii)
    </para>
   </listitem>
   <listitem>
    <!--
    2019-05-22 [57cd1d4]
    -->
    <para>
     <!--
     Deal <literal>pgpool_adm</literal> extension with <productname>PostgreSQL</productname> 12. (Tatsuo Ishii)
     -->
     <literal>pgpool_adm</literal>拡張が<productname>PostgreSQL</productname> 12 に対応するように修正しました。(Tatsuo Ishii)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>

 <sect2>
  <!--
  <title>Bug fixes</title>
  -->
  <title>不具合修正</title>

  <itemizedlist>

   <listitem>
    <!--
    2019-08-09 [b6d77f4]
    -->
    <para>
     <!--
     Fix "unable to bind. cannot get parse message" error.
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=531">bug 531</ulink>) (Tatsuo Ishii)
     -->
     "unable to bind. cannot get parse message"エラーを修正しました。
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=531">bug 531</ulink>) (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-08-08 [f48f624]
    -->
    <para>
     <!--
     Fix online-recovery is blocked after a child process exits abnormally with replication mode and watchdog. 
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=483">bug 483</ulink>) (Muhammad Usama)
     -->
     ネイティブレプリケーションモードかつ<application>Watchdog</application>が有効な場合、
     子プロセスが異常終了した後に、オンラインリカバリが失敗する不具合を修正しました。
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=483">bug 483</ulink>) (Muhammad Usama)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-05-16 [0dbf6eb]
    -->
    <para>
     <!--
     Fix for keep the backend health check running on quarantined nodes. (Muhammad Usama)
     -->
     隔離(quarantine)されたバックエンドに対してヘルスチェックを続けるように修正しました。(Muhammad Usama)
    </para>
    <para>
     <!--
     Pgpool should keep the backend health check running on quarantined nodes so
     that when the connectivity resumes, they should automatically get removed
     from the quarantine. 
     -->
     隔離されたバックエンドが接続再開されたときに自動的に隔離状態から解消されるように、
     <productname>Pgpool-II</productname>が隔離されたバックエンドに対してヘルスチェックを実行し続ける必要があります。
    </para>
    <para>
     <!--
     See <ulink url="https://www.pgpool.net/pipermail/pgpool-hackers/2019-April/003295.html">[pgpool-hackers: 3295]</ulink> for more details. 
     -->
     詳細は<ulink url="https://www.pgpool.net/pipermail/pgpool-hackers/2019-April/003295.html">[pgpool-hackers: 3295]</ulink>をご参照ください。
    </para>
   </listitem>

   <listitem>
    <!--
    2019-08-07 [29dab7b]
    -->
    <para>
     <!--
     Fix for no primary on standby pgpool when primary is quarantined on master. (Muhammad Usama)
     -->
     マスター<productname>Pgpool-II</productname>でプライマリが隔離 (quarantine) されている場合、
     スタンバイ<productname>Pgpool-II</productname>でプライマリノードが存在しない状態を修正しました。(Muhammad Usama)
    </para>
    <para>
     <!--
     Master watchdog Pgpool sends the backend status sync message if the primary node is quarantined on it.
     So standby watchdog pgpool must not update its status when the status of current primary node
     is not DOWN.
     -->
     プライマリノードが隔離 (quarantine) されている場合、マスター<productname>Pgpool-II</productname>は、
     プライマリノードステータスの同期メッセージを送信します。
     スタンバイ<productname>Pgpool-II</productname>では現在のプライマリノードのステータスがDOWNでない場合、
     プライマリノードのステータスを更新しないように修正しました。
    </para>
   </listitem>

   <listitem>
    <!--
    2019-07-29 [d2aa09a]
    -->
    <para>
     <!--
     Fix <xref linkend="WATCHDOG-SETUP"> command <literal>mode</literal> option to work correctly. (Takuma Hoshiai)
     -->
     <xref linkend="WATCHDOG-SETUP">コマンドの<literal>mode</literal>オプションが正しく動作するように修正しました。(Takuma Hoshiai)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-07-28 [34dc12f]
    -->
    <para>
     <!--
     Fix <xref linkend="PGPOOL-SETUP"> to produce correct follow master command. (Tatsuo Ishii)
     -->
     <xref linkend="PGPOOL-SETUP">が正しい<varname>follow master command</varname>を生成するように修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-07-07 [44f8e2d]
    -->
    <para>
     <!--
     Fix query cache module so that it checks oid array's bound. (Tatsuo Ishii)
     -->
     クエリキャッシュモジュールでoid配列の境界をチェックするように修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-07-07 [bb3af6f]
    -->
    <para>
     <!--
     Fix off-by-one error in query cache module. (Tatsuo Ishii)
     -->
     クエリキャッシュモジュールのOff-by-oneエラーを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-07-05 [27c2476]
    -->
    <para>
     <!--
     Allow health check process to reload. (Tatsuo Ishii)
     -->
     ヘルスチェックプロセスで<filename>pgpool.conf</filename>がリロードされない不具合を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-07-03 [5d042e4]
    -->
    <para>
     <!--
     Fix sefault when query cache is enabled. (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=525">bug 525</ulink>) (Tatsuo Ishii)
     -->
     クエリキャッシュが有効な場合に発生するセグメンテーション違反を修正しました。(<ulink url="https://www.pgpool.net/mantisbt/view.php?id=525">bug 525</ulink>) (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-07-02 [b8137d6]
    -->
    <para>
     <!--
     Down grade LOG "checking zapping sent message ..." to DEBUG5. (Tatsuo Ishii)
     -->
     LOG "checking zapping sent message ..."をDEBUG5にダウングレードしました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     Discussion: <ulink url="https://www.pgpool.net/pipermail/pgpool-general/2019-June/006678.html">[pgpool-general: 6620]</ulink>
     -->
     詳細は<ulink url="https://www.pgpool.net/pipermail/pgpool-general/2019-June/006678.html">[pgpool-general: 6620]</ulink>をご参照ください。
    </para>
   </listitem>

   <listitem>
    <!--
    2019-06-24 [8742f9f]
    -->
    <para>
     <!--
     Fix segfault when <literal>samenet</literal> is specified in <filename>pool_hba.conf</filename>. (Tatsuo Ishii)
     -->
     <filename>pool_hba.conf</filename>に<literal>samenet</literal>が指定されている場合に発生するセグメンテーション違反を修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     Discussion: <ulink url="https://www.pgpool.net/pipermail/pgpool-general/2019-June/006659.html">[pgpool-general: 6601]</ulink>.
     -->
     詳細は<ulink url="https://www.pgpool.net/pipermail/pgpool-general/2019-June/006659.html">[pgpool-general: 6601]</ulink>をご参照ください。
    </para>
   </listitem>

   <listitem>
    <!--
    2019-06-20 [4277e9b]
    2019-06-19 [f87890b]
    2019-06-19 [8af9198]
    -->
    <para>
     <!--
     Doc: Fix documentation mistakes in <filename>follow_master.sh</filename> script and typos. (Bo Peng)
     -->
     Doc: 「7.3. Pgpool-II + Watchdogの構築の例」の<filename>follow_master.sh</filename>スクリプトの間違いとタイポを修正しました。(Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-06-11 [361f4ec]
    -->
    <para>
     <!--
     Fix health check process is not shutting down in certain cases. (Tatsuo Ishii)
     -->
     特定のケースでヘルスチェックプロセスが終了しない問題を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-06-07 [48a45fc]
    -->
    <para>
     <!--
     Fix to deal with backslashes according to the config of <varname>standard_conforming_strings</varname> in native replication mode.
     -->
     ネイティブレプリケーションモードの場合、<varname>standard_conforming_strings</varname>の設定に応じてバックスラッシュを処理するように修正しました。
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=467">bug 467</ulink>) (Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-05-23 [81b9c11]
    -->
    <para>
     <!--
     Fix compile error on FreeBSD.
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=512">bug 512</ulink>,
     <ulink url="https://www.pgpool.net/mantisbt/view.php?id=519">bug 519</ulink>) (Bo Peng)
     --> 
     FreeBSD上で発生するコンパイルエラーを修正しました。
     (<ulink url="https://www.pgpool.net/mantisbt/view.php?id=512">bug 512</ulink>,
     <ulink url="https://www.pgpool.net/mantisbt/view.php?id=519">bug 519</ulink>) (Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-08-14 [5765ed7]
    2019-05-23 [0e8c1c2]
    2019-05-22 [c264275]
    2019-05-22 [53e7af0]
    2019-05-22 [19cfda2]
    -->
    <para>
     <!--
     Fix memory leaks. (Tatsuo Ishii)
     -->
     いくつかのメモリリークを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-05-23 [827a056]
    -->
    <para>
     <!--
     Make failover in progress check more aggressively to avoid potential segfault. (Tatsuo Ishii)
     -->
     潜在的なセグメンテーション違反を回避するために、フェイルオーバ実行中であるかどうかのチェックをより積極的に行うように修正しました。(Tatsuo Ishii)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>
</sect1>

<sect1 id=release-3-7-10> 
 <!--
 <title>Release 3.7.10</title>
 -->
 <title>リリース 3.7.10</title>
 <note>
  <!--
  <title>Release Date</title>
  -->
  <title>リリース日</title>
  <simpara>2019-05-16</simpara>
 </note>

 <sect2>
  <!--
  <title>Enhancements</title>
  -->
  <title>改善点</title>
  <itemizedlist>
   <listitem>
    <!--
    2019-05-04 [9088c76]
    -->
    <para>
     <!--
     Doc: Improve <xref linkend="PCP-COMMANDS"> document. (Tatsuo Ishii)
     -->
     Doc: ドキュメント<link linkend="pcp-commands">リファレンスII, PCP コマンド</link>を改善しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-05-03 [7a6ddad]
    -->
    <para>
     <!--
     Speed up failover when all of backends are down. (Tatsuo Ishii)
     -->
     すべてのバックエンドが停止しているときのフェイルオーバをスピードアップします。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     If all of the backend are in down status, immediately give up finding 
     primary node regardless <varname>search_primary_node_timeout</> and promptly 
     finish the failover process.
     -->
     すべてのバックエンドが停止状態になった場合、<varname>search_primary_node_timeout</>の値に関わらずプライマリノードの検索を中止し、
     直ちにフェールオーバプロセスを終了するように修正しました。
    </para>
    <para>
     <!--
     Discussion: <ulink url="https://www.pgpool.net/pipermail/pgpool-hackers/2019-May/003321.html">[pgpool-hackers: 3321]</ulink>
     -->
     ディスカッション: <ulink url="https://www.pgpool.net/pipermail/pgpool-hackers/2019-May/003321.html">[pgpool-hackers: 3321]</ulink>
    </para>
   </listitem>

   <listitem>
    <!--
    2019-04-30 [b77a5b9]
    2019-04-30 [843e1c5]
    -->
    <para>
     <!--
     pgpool-recovery extension and <command>pgpool_setup</> is now ready for the next major release <productname>PostgreSQL</> 12. (Tatsuo Ishii)
     -->
     pgpool-recovery拡張と<command>pgpool_setup</>を次期バージョンである<productname>PostgreSQL</>12に対応しました。(Tatsuo Ishii)
    </para>
   </listitem>
   <listitem>
    <!--
    2019-04-10 [c845e30]
    2019-04-09 [5d2078b]
    -->
    <para>
     <!--
     Doc: add <xref linkend="RESTRICTIONS"> entry. (Takuma Hoshiai)
     -->
     Doc: ドキュメントの<xref linkend="RESTRICTIONS">の項目を追加しました。(Takuma Hoshiai)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>

 <sect2>
  <!--
  <title>Bug fixes</title>
  -->
  <title>不具合修正</title>
  <itemizedlist>
   <listitem>
    <!--
    2019-05-09 [1f5c59d]
    -->
    <para>
     <!--
     Fix the wrong error message "ERROR: connection cache is full", when all backend nodes are down. 
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=487">bug 487</>) (Bo Peng)
     -->
     すべてのバックエンドがダウンした場合には表示される不適切なエラーメッセージ"ERROR: connection cache is full"を修正しました。
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=487">bug 487</>) (Bo Peng)
    </para>
    <para>
     <!--
     When all backend nodes are down, <productname>Pgpool-II</> throws an uncorrect
     error message "ERROR: connection cache is full". Change the error
     message to "all backend nodes are down, pgpool requires at least one valid node".
     -->
     すべてのバックエンドがダウンした場合に、<productname>Pgpool-II</>が不適切なエラーメッセージ"ERROR: connection cache is full"を投げています。
     このエラーを"all backend nodes are down, pgpool requires at least one valid node"に修正しました。
    </para>
   </listitem>
   <listitem>
    <!--
    2019-04-24 [3ea843d]
    -->
    <para>
     <!--
     Remove unused .sgml file. (Takuma Hoshiai)
     -->
     使用されていない.sgmlファイルを削除しました。(Takuma Hoshiai)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-04-21 [5085343]
    -->
    <para>
     <!--
     Avoid exit/fork storm of pool_worker_child process. (Tatsuo Ishii)
     -->
     pool_worker_childプロセスの終了/フォークの繰り返しを避けるために修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     pool_worker_child issues query to get WAL position using <function>do_query()</>,
     which could throws FATAL error. In this case pool_worker_child process
     exits and <productname>Pgpool-II</> parent immediately forks new process. This cycle
     indefinitely repeats and gives high load to the system.
     To avoid the exit/fork storm, sleep <varname>sr_check_period</>.
     -->
     pool_worker_childは<function>do_query()</>を使用してWAL位置を取得するためのクエリを発行します。
     これにより、致命的エラーが発生した場合、pool_worker_childプロセスを終了し、
     <productname>Pgpool-II</>の親プロセスは直ちに新しいプロセスをフォークするようにしています。
     このサイクルは無限に繰り返され、システムに大きな負荷を与える可能性があります。
     無限に繰り返される終了/フォーク処理を回避するために、<varname>sr_check_period</>をスリープさせるように修正しました。
    </para>
   </listitem>

   <listitem>
    <!--
    2019-04-18 [56a1fd8]
    -->
    <para>
     <!--
     Fix <xref linkend="GUC-WRITE-FUNCTION-LIST">'s broken default value. (Tatsuo Ishii)
     -->
     <xref linkend="GUC-WRITE-FUNCTION-LIST">のデフォル値が間違っていた不具合を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-04-17 [cd6525b]
    -->
    <para>
     <!--
     Fix "not enough space in buffer" error. 
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=499">bug 499</>) (Tatsuo Ishii)
     -->
     「not enough space in buffer」エラーを修正しました。
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=499">bug 499</>) (Tatsuo Ishii)
    </para>
    <para>
     <!--
     The error occurred while processing error message returned from
     backend and the cause is that the query string in question is too
     big. Problem is, the buffer is in fixed size (8192 bytes).
     Eliminate the fixed size buffer and use palloced buffer
     instead. This also saves some memory copy work.
     -->
     バックエンドから返されたエラーメッセージサイズが固定バッファサイズ (8192 bytes)を超えた場合、
     「not enough space in buffer」エラーが発生していました。
     固定サイズのバッファの使用を廃止し、動的にバッファサイズを割り当てるように修正しました。
    </para>
   </listitem>

   <listitem>
    <!--
    2019-04-16 [97924be]
    -->
    <para>
     <!--
     Fix DROP DATABASE failure. (Tatsuo Ishii)
     -->
     DROP DATABASEの失敗を修正しました。 (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-04-10 [85cef44]
    -->
    <para>
     <!--
     Fix wrong variable in <function>read_status_file()</> function. (Takuma Hoshiai)
     -->
     <function>read_status_file()</>関数の間違った変数名を修正しました。
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=493">bug 493</>) (Takuma Hoshiai)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-04-08 [60ec0cb]
    -->
    <para>
     <!--
     Add missing <filename>test/watchdog_setup</> to EXTRA_DIST. (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=470">bug 470</>) (Bo Peng)
     -->
     漏れていたtest/watchdog_setupをEXTRA_DISTに追加しました。(<ulink url="http://www.pgpool.net/mantisbt/view.php?id=470">bug 470</>) (Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-04-07 [c4d8988]
    -->
    <para>
     <!--
     Doc: mention that multi-statement queries are sent to primary node only. (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=492">bug 492</>) (Tatsuo Ishii)
     -->
     Doc: マルチステートメントクエリはプライマリノードにのみ送信されるという説明をドキュメントに追加しました。(<ulink url="http://www.pgpool.net/mantisbt/view.php?id=492">bug 492</>) (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-04-03 [713abae]
    -->
    <para>
     <!--
     Test: Fix occasional regression test failure of 014.watchdog_test_quorum_bypass. (Tatsuo Ishii)
     -->
     Test: 014.watchdog_test_quorum_bypass レグレッションテストの失敗を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-04-02 [00001c4]
    -->
    <para>
     <!--
     Abort session if failover/failback is ongoing to prevent potential segfault. 
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=481">bug 481</ulink>, 
     <ulink url="http://www.pgpool.net/mantisbt/view.php?id=482">bug 482</ulink>) (Tatsuo Ishii)
     -->
     failover/failback実行中に接続があった場合に発生しうるセグメンテーション違反を回避するために、セッションを終了するように修正しました。
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=481">bug 481</ulink>, 
     <ulink url="http://www.pgpool.net/mantisbt/view.php?id=482">bug 482</ulink>) (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-03-30 [508f1c4]
    2019-03-30 [d96aef8]
    -->
    <para>
     <!--
     Fix compiler warnings. (Tatsuo Ishii)
     -->
     コンパイル時に発生するワーニング を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-03-28 [852f8b5]
    -->
    <para>
     <!--
     Fix memory leak in "batch" mode in extended query. 
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=468">bug 468</>) (Tatsuo Ishii)
     -->
     拡張問い合わせかつ"batch"モードで発生するメモリリークを修正しました。
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=468">bug 468</>) (Tatsuo Ishii)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>
</sect1>

<sect1 id=release-3-7-9> 
 <!--
 <title>Release 3.7.9</title>
 -->
 <title>リリース 3.7.9</title>
 <note>
  <!--
  <title>Release Date</title>
  -->
  <title>リリース日</title>
  <simpara>2019-03-29</simpara>
 </note>

 <sect2>
  <!--
  <title>Enhancements</title>
  -->
  <title>改善点</title>
  <itemizedlist>
   <listitem>
    <!--
    2019-03-27 [14e516c]
    -->
    <para>
     <!--
     Add new configuration option <xref linkend="guc-ssl-prefer-server-ciphers">. (Muhammad Usama)
     -->
     新しい設定パラメータ<xref linkend="guc-ssl-prefer-server-ciphers">を追加しました。(Muhammad Usama)
    </para>
    <para>
     <!--
     Add the new setting <xref linkend="guc-ssl-prefer-server-ciphers"> to let users configure if they
     want client's or server's cipher order to take preference.
     -->
     ユーザがサーバ側のSSL暗号設定をクライアントに優先して使うかどうかを設定できるように、新しい設定パラメータ<xref linkend="guc-ssl-prefer-server-ciphers">を追加しました。
    </para>
    <para>
     <!--
     The default for this parameter is off, which prioritize the client's
     cipher order as usual. However this is just for keeping backward
     compatibility, and it is possible that a malicious client uses weak
     ciphers. For this reason we recommend to set this parameter to on at
     all times.
     -->
     この設定はデフォルトでオフで、従来と同じようにクライアント側のリクエストが優先されます。
     しかしこれはあくまで過去の挙動との互換性のための設定であり、悪意のあるクライアントが弱い暗号を利用できる可能性があります。
     ですから、常にこのパラメータをオンにしておくことを推奨します。
    </para>
   </listitem>

   <listitem>
    <!--
    2019-03-27 [c4cf944]
    2019-03-23 [baba568]
    -->
    <para>
     <!--
     Allow to set a client cipher list. (Tatsuo Ishii, Yugo Nagata)
     -->
     client cipher リストの設定が可能になりました。(Tatsuo Ishii, Yugo Nagata)  
    </para>
    <para>
     <!--
     For this purpose new parameter <xref linkend="guc-ssl-ciphers">, which specifies the cipher
     list to be accepted by <productname>Pgpool-II</>, is added.
     This is already implemented in <productname>PostgreSQL</> and useful to enhance security when SSL is enabled. 
     -->
     <productname>Pgpool-II</>がクライアントからのSSL接続を受け付ける際に受け入れる暗号のリストを指定する新しいパラメータ、
     <xref linkend="guc-ssl-ciphers">を追加しました。これはすでに<productname>PostgreSQL</>に実装されていて、
      SSLが有効なときにセキュリティを強化するのに役立ちます。
    </para>
   </listitem>
  </itemizedlist>
 </sect2>

 <sect2>
  <!--
  <title>Bug fixes</title>
  -->
  <title>不具合修正</title>
  <itemizedlist>
   <listitem>
    <!--
    2019-03-18 [486a766]
    -->
    <para>
     <!--
     Fix unnecessary <function>fsync()</> to <filename>pgpool_status</> file. (Tatsuo Ishii)
     -->
     不要な<filename>pgpool_status</>ファイルへの書き込みが減らしました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     Whenever new connections are created to PostgreSQL backend, <function>fsync()</>
     was issued to <filename>pgpool_status</> file, which could generate excessive I/O
     in certain conditions.
     So reduce the chance of issuing <function>fsync()</> so that it is issued only when
     backend status is changed.
     -->
     今までは<productname>PostgreSQL</>バックエンドへの新しい接続が作成されるたびに、
     <filename>pgpool_status</>ファイルに書き込むために<function>fsync()</>が実行されていましたが、
     これにより、特定の条件で過剰なI/Oを発生させる可能性がありました。
     そのため、バックエンドの状況が変更されたときにのみ<function>fsync()</>を実行するように修正しました。
    </para>
    <para>
     <!--
     Discussion: <ulink url="http://www.sraoss.jp/pipermail/pgpool-general/2019-February/006494.html">[pgpool-general: 6436]</ulink>
     -->
     ディスカッション: <ulink url="http://www.sraoss.jp/pipermail/pgpool-general/2019-February/006494.html">[pgpool-general: 6436]</ulink>
    </para>
   </listitem>
  </itemizedlist>
 </sect2>
</sect1>

<sect1 id=release-3-7-8> 
 <!--
 <title>Release 3.7.8</title>
 -->
 <title>リリース 3.7.8</title>
 <note>
  <!--
  <title>Release Date</title>
  -->
  <title>リリース日</title>
  <simpara>2019-02-21</simpara>
 </note>

 <sect2>
  <!--
  <title>Bug fixes</title>
  -->
  <title>不具合修正</title>
  <itemizedlist>
   <listitem>
    <!--
    2019-02-15 [e462e7c]
    -->
    <para>
     <!--
     Test: Fix old JDBC functions and typos in regression test 068.memqcache_bug. (Takuma Hoshiai)
     -->
     Test: レグレッションテスト068.memqcache_bugの古いJDBCの関数及びタイポを修正しました。(Takuma Hoshiai)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-02-15 [b79d7ce]
    -->
    <para>
     <!--
     Doc: Fix configuration change timing regarding memory_cache_enabled. (Tatsuo Ishii)
     -->
     Doc: <xref linkend="GUC-MEMORY-CACHE-ENABLED">パラメータはサーバ起動時にのみ設定可能なことをドキュメントに追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-02-12 [c27204b]
    -->
    <para>
     <!--
     Fix online recovery failed due to client_idle_limit_in_recovery in certain cases. 
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=431">bug 431</ulink>)(Tatsuo Ishii)
     -->
     特定の場合に、<xref linkend="GUC-CLIENT-IDLE-LIMIT-IN-RECOVERY">によって、オンラインリカバリが失敗する不具合を修正しました。(<ulink url="http://www.pgpool.net/mantisbt/view.php?id=431">bug 431</ulink>)(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-02-05 [576d1b0]
    -->
    <para>
     <!--
     Reduce memory usage when large data set is returned from backend. 
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=462">bug 462</ulink>) (Tatsuo Ishii)
     -->
     大きなデータがバックエンドから返されたときのメモリ使用量を減らすように修正しました。(<ulink url="http://www.pgpool.net/mantisbt/view.php?id=462">bug 462</ulink>) (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-02-05 [3ed77b7]
    -->
    <para>
     <!--
     Test: Fix syntax error in extended query test script. (Tatsuo Ishii)
     -->
     Test: 拡張問い合わせのテストスクリプトのエラーを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-01-29 [3645252]
    -->
    <para>
     <!--
     Fix corner case bug when strip_quote() handle a empty query string. <ulink url="http://www.pgpool.net/mantisbt/view.php?id=458">(bug 458</ulink>) (Tatsuo Ishii)
     -->
     <function>strip_quote()</function>が空のクエリを処理するときに発生するセグメンテーション違反を修正しました。<ulink url="http://www.pgpool.net/mantisbt/view.php?id=458">(bug 458</ulink>) (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-01-27 [30840d7]
    -->
    <para>
     <!--
     Doc: Mention that schema qualifications cannot be used in white/black_function_list. (Tatsuo Ishii)
     -->
     Doc: white/black_function_list 設定パラメータでスキーマ修飾が使えないという説明を追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-01-23 [2bce812]
    -->
    <para>
     <!--
     Fix typo about wd_priority in watchdog_setup. (Takuma Hoshiai)
     -->
     <command>watchdog_setup</command>スクリプトの<xref linkend="GUC-WD-PRIORITY">に関するタイポを修正しました。(Takuma Hoshiai)
    </para>
   </listitem>

   <listitem>
    <!--
    2019-01-10 [3a27f10]
    -->
    <para>
     <!--
     Fix Pgpool child segfault if failover occurs when trying to establish a connection. (Tatsuo Ishii)
     -->
     接続を確立しようとするとき、フェイルオーバが発生する場合に発生しうるセグメンテーション違反を修正しました。(Tatsuo Ishii)
    </para>
    <para>
     参照: <ulink url="https://www.pgpool.net/pipermail/pgpool-hackers/2019-January/003214.html">[pgpool-hackers: 3214]</ulink>
    </para>
   </listitem>

   <listitem>
    <!--
    2019-01-03 [520649b]
    -->
    <para>
     <!--
     Doc: fix typo in logdir description. (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=453">bug 453</ulink>)(Tatsuo Ishii)
     -->
     Doc: <xref linkend="GUC-LOGDIR">に関するドキュメントのタイポを修正しました。(<ulink url="http://www.pgpool.net/mantisbt/view.php?id=453">bug 453</ulink>)(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-12-12 [5625f06]
    -->
    <para>
     <!--
     Fix Pgpool-II hang if a client sends a extended query message such as close after sync message but before next simple query. (Tatsuo Ishii)
     -->
     クライアントが sync メッセージの後、次の簡易問い合わせの前に close メッセージを送ると発生しうるハングアップを修正しました。(Tatsuo Ishii)
    </para>
    <para>
     参照: <ulink url="https://www.pgpool.net/pipermail/pgpool-hackers/2018-December/003164.html">[pgpool-hackers: 3164]</ulink>
    </para>
   </listitem>

   <listitem>
    <!--
    2018-12-06 [f3da002]
    -->
    <para>
     <!--
     Fix Pgpool-II hang when "idle_in_transaction_session_timeout=on". (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=448">bug 448</ulink>)(Tatsuo Ishii)
     -->
     <productname>PostgreSQL</productname>の<varname>idle_in_transaction_session_timeout</varname>が有効な場合に発生しうる<productname>Pgpool-II</productname>のハングアップを修正しました。(<ulink url="http://www.pgpool.net/mantisbt/view.php?id=448">bug 448</ulink>)(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-12-05 [6a37de1]
    -->
    <para>
     <!--
     Doc: Fix Japanese document typo in <xref linken="PCP-COMMON-OPTIONS">. (Bo Peng)
     -->
     Doc: 日本語ドキュメント<xref linkend="PCP-COMMON-OPTIONS">のタイポを修正しました。(Bo Peng)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>
</sect1>

<sect1 id=release-3-7-7> 
 <!--
 <title>Release 3.7.7</title>
 -->
 <title>リリース 3.7.7</title>
 <note>
  <!--
  <title>Release Date</title>
  -->
  <title>リリース日</title>
  <simpara>2018-11-22</simpara>
 </note>

 <sect2>
  <!--
  <title>Bug fixes</title>
  -->
  <title>不具合修正</title>
  <itemizedlist>

   <listitem>
    <!--
    2018-11-21 [14af2f3]
    -->
    <para>
     <!--
     Fix to sort startup packet's parameters sent by client. 
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=444">bug 444</ulink>)(Takuma Hoshiai)
     -->
     クライアントから送信された startup パケットのパラメータをソートするように修正します。
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=444">bug 444</ulink>)(Takuma Hoshiai)
    </para>
    <para>
     <!--
     If order of startup packet's parameters differ between cached connection
     pools and connection request, did't use connection pool ,and created new
     connection pool.
     -->
     キャッシュされたコネクションプールと接続要求のstartupパケットのパラメータの順序が異なる場合、
     コネクションプールを使用せず、新しいコネクションプールを作成しまていました。
    </para>
   </listitem>
   
   <listitem>
    <!--
    2018-11-13 [2f5942f]
    -->
    <para>
     <!--
     Fix segmentation fault occurs when a certain Bind message is sent in native replication mode. 
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=443">bug 443</ulink>)(Bo Peng)
     -->
     ネイティブレプリケーションモードで特定のBindメッセージが送信されたときに発生するセグメンテーション違反を修正しました。
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=443">bug 443</ulink>) (Bo Peng)
    </para>
    <para>
     <!--
     If the number of parameter format codes is specified to one, but the number
     of the original query's parameter is zero, bind_rewrite_timestamp() will
     call memcpy with a negative value. This causes segmentation fault.
     -->
     パラメータ書式コードの数が 1 に指定されて、元のクエリのパラメータの数が 0 の場合、
     <function>bind_rewrite_timestamp()</>に負の値を指定して<function>memcpy</>を呼び出していました。
     これによりセグメンテーション違反が発生していました。
    </para>
    <para>
     <!--
     Patch is provided by Yugo Nagata.
     -->
     パッチがYugo Nagataにより提供されました。
    </para>
   </listitem>
   
   <listitem>
    <!--
    2018-11-08 [fe23abd]
    -->
    <para>
     <!--
     Fix a query passed to relcache so that it uses schema qualified table name. (Tatsuo Ishii)
     -->
     スキーマ名で修飾されたテーブル名を使用するようにクエリキャッシュに渡されるクエリを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>
   
   <listitem>
    <!--
    2018-11-05 [b6dd79b]
    -->
    <para>
     <!--
     Fix query cache invalidation bug. (Tatsuo Ishii)
     -->
     クエリキャッシュ無効化のバグを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>
   
   <listitem>
    <!--
    2018-11-03 [d0bdefa]
    -->
    <para>
     <!--
     Fix segfault in extended query + query cache case. (Tatsuo Ishii)
     -->
     拡張問い合わせかつクエリキャッシュ有効の場合に発生するセグメンテーション違反を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>
   
   <listitem>
    <!--
    2018-11-01 [c04d979]
    -->
    <para>
     <!--
     Fix memory leak in extended query + query cache enabled. (Tatsuo Ishii)
     -->
     拡張問い合わせかつクエリキャッシュ有効の場合に発生するメモリリークを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>
</sect1>

<sect1 id="release-3-7-6">
 <!--
 <title>Release 3.7.6</title>
 -->
 <title>リリース 3.7.6</title>

 <note>
  <!--
  <title>Release Date</title>
  -->
  <title>リリース日</title>
  <simpara>2018-10-31</simpara>
 </note>

 <sect2>
  <!--
  <title>Changes</title>
  -->
  <title>変更点</title>
  <itemizedlist>
   <listitem>
    <!--
    2018-10-30 [3d0311b]
    -->
    <para>
     <!--
     Allow <command>PCP[attach/detach/promote]</command> commands during failover. (Muhammad Usama)
     -->
     フェイルオーバ時に<command>PCP[attach/detach/promote]</command>コマンドを許可するようになりました。(Muhammad Usama)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-10-18 [8cc799a]
    -->
    <para>
     <!--
     Change <filename>pgpool.spec</filename> file to install extension to DB server which supports LLVM JIT. (Bo Peng)
     -->
     LLVM JITをサポートするDBサーバに拡張機能をインストールするために、<filename>pgpool.spec</filename>ファイルを変更しました。(Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-10-10 [1cff05c]
    -->
    <para>
     <!--
     Doc: Add note to online recovery doc. (Tatsuo Ishii)
     -->
     Doc: オンラインリカバリのドキュメントに注意事項を追加しました。
    </para>
    <para>
     <!--
     This warns that <xref linkend="guc-client-idle-limit-in-recovery"> must be smaller than <xref linkend="guc-recovery-timeout">.
     -->
     <xref linkend="guc-client-idle-limit-in-recovery">は<xref linkend="guc-recovery-timeout">よりも小さな値でなければなりません。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-08-29 [209ef0e]
    -->
    <para>
     <!--
     Test: Add regression test for SSL connection. (Tatsuo Ishii)
     -->
     Test: SSL 接続のレグレッションテストを追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-08-22 [760e6eb]
    -->
    <para>
     <!--
     Doc: Add notes regarding failover script. (Tatsuo Ishii)
     -->
     Doc: フェールオーバスクリプトに関する注意事項を追加しました。
    </para>
    <para>
     <!--
     It's not recommended to access against <productname>Pgpool-II</productname> itself from failover/failback scripts.
     -->
     failover/failbackスクリプトの中で<productname>Pgpool-II</productname>自体にアクセスすることはお勧めしません。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-08-14 [2c15faa]
    -->
    <para>
     <!--
     Doc: Improve <xref linkend="PG-MD5"> docs and error message. (Bo Peng)
     -->
     Doc: <xref linkend="PG-MD5">のドキュメント及びエラーメッセージを改善しました。(Bo Peng)
    </para>
    <para>
     <!--
     Patch provided by Jesper Pedersen and modified by me.
     -->
     パッチはJesper Pedersenにより提供され、Bo Pengにより修正されました。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-08-10 [0e3b085]
    -->
    <para>
     <!--
     Test: Add definition of PGLIB in <filename>regress.sh</filename>. (Bo Peng)
     -->
     Test: <filename>regress.sh</filename>にPGLIBの定義を追加しました。 (Bo Peng)
    </para>
    <para>
     <!--
     Patch provided by Jesper Pedersen.
     -->
     パッチはJesper Pedersenにより提供されました。
    </para>
   </listitem>
  </itemizedlist>
 </sect2>

 <sect2>
  <!--
  <title>Bug fixes</title>
  -->
  <title>不具合修正</title>
  <itemizedlist>
   <listitem>
    <!--
    2018-10-25 [1bea94d]
    -->
    <para>
     <!--
     Fix typo in <varname>child_max_connections</varname> description of <command>SHOW POOL_STATUS</command> output. (Tatsuo Ishii)
     -->
     <command>SHOW POOL_STATUS</command>コマンドの出力の<varname>child_max_connections</varname>の説明のタイポを修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     Patch provided by Phil Ramirez.
     -->
     パッチはPhil Ramirezにより提供されました。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-10-22 [5bbce64]
    -->
    <para>
     <!--
     Fix segmentation fault when error query and Sync message are sent in native replication mode. (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=434">bug 434</ulink>) (Takuma Hoshiai)
     -->
     ネイティブレプリケーションモードでエラークエリと同期メッセージが送信されたときのセグメンテーション違反を修正しました。
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=434">bug 434</ulink>) (Takuma Hoshiai)
    </para>
    <para>
     <!--
     In native replication mode, segmentation fault occurs when Sync messages is sent just after a query error.
     -->
     ネイティブレプリケーションモードで、クエリエラーの後に同期メッセージが送信されるとセグメンテーション違反が発生していました。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-10-18 [d532925]
    -->
    <para>
     <!--
     Fix syntax error when queries including time functions and <literal>IN (SELECT ...)</literal> in 
     <literal>WHERE</literal> clause in native replication mode. 
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=433">bug 433</ulink>) (Bo Peng)
     -->
     ネイティブレプリケーションモードで、クエリに時刻関数を含み、かつ<literal>WHERE</literal>句に<literal>IN (SELECT ...)</literal>を含むと構文エラーになる不具合を修正しました。(Bo Peng)
    </para>
    <para>
     <!--
     In native replication mode, queries including time functions (e.g. <function>now()</function>, <function>CURRENT_TIMESTAMP</function> etc.) are rewritten to a timestamp constant value. 
     However, <productname>Pgpool-II</productname> doesn't support queries including time functions and <literal>IN (SELECT ...)</literal> in <literal>WHERE</literal> clause.
     -->
     ネイティブレプリケーションモードで、クエリに<function>now()</function>、<function>CURRENT_TIMESTAMP</function>などの時刻関数を利用した場合、
     タイムスタンプ型の定数に書き換えるようになっています。
     しかし、<productname>Pgpool-II</productname>は時刻関数含み、かつ<literal>WHERE</literal>句に<literal>IN (SELECT ...)</literal>を含むクエリを対応しませんでした。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-10-12 [7a58317]
    -->
    <para>
     <!--
     Fix occasional less data returned to frontend with extended protocol. (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=432">bug432</ulink>) (Tatsuo Ishii)
     -->
     拡張問い合わせの場合、時々期待される応答がフロントエンドに返されないことがあったので、修正しました。
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=432">bug 432</ulink>) (Tatsuo Ishii)
    </para>
    <para>
     <!--
     The idea for fix is, use pending message data list. It records
     messages from frontend, and it is expected that we will receive same
     number of messages.
     -->
     解決策は、保留中のメッセージデータリストを使用することです。それはフロントエンドからのメッセージを記録し、同じ数のメッセージを受け取ることが期待されます。
    </para>
    <para>
     <!--
     Initial patch is created by Yugo Nagata and fixed by Tatsuo Ishii.
     -->
     パッチは Yugo Nagata によって作成され、Tatsuo Ishii により修正されました。 
    </para>
   </listitem>

   <listitem>
    <!--
    2018-10-11 [d620888]
    -->
    <para>
     <!--
     Fix memory leak when query cache enabled in streaming replication mode + extended query case. (Tatsuo Ishii)
     -->
     ストリーミングレプリケーションモードかつ拡張問い合わせの場合、クエリキャッシュを有効にするときに発生するメモリリークを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-10-11 [88f63b0]
    -->
    <para>
     <!--
     Fix memory leak in <function>trigger_failover_command()</function>. (Tatsuo Ishii)
     -->
     <function>trigger_failover_command()</function> 関数で発生するメモリリークを修正しました。 (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-10-09 [43e25be]
    -->
    <para>
     <!--
     Fix memory leak when memory_cache_enabled = on and write SQLs are sent. (Bo Peng)
     -->
     ストリーミングレプリケーションモードかつクエリキャッシュが有効の場合に更新クエリが発行された場合に発生するメモリリークを修正しました。(Bo Peng)
    </para>
    <para>
     <!--
     In a explicit transaction, the <literal>SELECT</literal> results are cached in temporary buffer.
     If a write <acronym>SQL</acronym> is sent which modifies the table, the temporary buffe should be reset.
     -->
     明示的なトランザクションでは、<literal>SELECT</literal>の結果は一時バッファにキャッシュされます。
     テーブルを変更する書込み<acronym>SQL</acronym>が送信されると、一時的なバッファをリセットしなければなりません。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-10-09 [e2cdd31]
    -->
    <para>
     <!--
     Test: Fix occasional failure in regression 065.bug152. (Tatsuo Ishii)
     -->
     時々発生するレグレッションテスト 065.bug152 のエラーを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-09-21 [9f0528b]
    -->
    <para>
     <!--
     Test: Add <literal>EXECUTE/DEALLOCATE</literal> regression test. (Takuma Hoshiai)
     -->
     Test: <literal>EXECUTE/DEALLOCATE</literal>のレグレッションテストを追加しました。(Takuma Hoshiai)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-09-19 [cdd734e]
    -->
    <para>
     <!--
     Add missing <filename>pgpool_recovery/-/-1.0/-/-1.1.sql</filename> file to update 
     <function>pgpool_recovery()</function> function version to 1.1. (Bo Peng)
     -->
     <function>pgpool_recovery()</function>関数のバージョンを1.1に更新するための<filename>pgpool_recovery--1.0--1.1.sql</filename>ファイルを追加しました。 (Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-09-13 [e22933a]
    -->
    <para>
     <!--
     Fix kind mismatch error when <literal>DEALLOCATE</literal> statement is issued. (Bo Peng)
     -->
     <literal>DEALLOCATE</literal>ステートメントが発行された場合に発生するkind mismatchエラーを修正しました。(Bo Peng)
    </para>
    <para>
     <!--
     <literal>PREPARE</literal> should be add to pool_add_sent_message, 
     so that <literal>EXECUTE</literal> and <literal>DEALLOCATE</literal>
     can be sent to the same node as <literal>PREPARE</literal>.
     -->
     <literal>EXECUTE</literal>と<literal>DEALLOCATE</literal>が<literal>PREPARE</literal>と同じノードに送信されるために、<literal>PREPARE</literal>をpool_add_sent_messageに追加するように修正しました。
    </para>
    <para>
     <!--
     See <ulink url="https://www.pgpool.net/pipermail/pgpool-general/2018-September/006284.html">[pgpool-general: 6226]</ulink> for more details.
     -->
     詳細は<ulink url="https://www.pgpool.net/pipermail/pgpool-general/2018-September/006284.html">[pgpool-general: 6226]</ulink>を参照してください。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-08-27 [7e9c385]
    -->
    <para>
     <!--
     Do not update <xref linkend="guc-pool-passwd"> if the password length is incorrect. 
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=419">bug 419</ulink>) (Takuma Hoshiai, Tatsuo Ishii)
     -->
     パスワードの長さが正しくない場合、<xref linkend="guc-pool-passwd">を更新しないように修正しました。
      (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=419">bug 419</ulink>) (Takuma Hoshiai, Tatsuo Ishii)
    </para>
    <para>
     <!--
     For <productname>Pgpool-II</productname> 3.7 or before, the password stored in 
     <xref linkend="guc-pool-passwd"> is <literal>MD5</literal> password only. 
     So check the correctness of <xref linkend="guc-pool-passwd"> by scanning entire file.
     -->
     <productname>Pgpool-II 3.7</productname>以前では、<xref linkend="guc-pool-passwd">に保存されているパスワードは<literal>MD5</literal> パスワードのみです。
      <xref linkend="guc-pool-passwd">ファイルのパスワードの長さをチェックするように修正しました。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-08-20 [57b43ae]
    -->
    <para>
     <!--
     Doc: Change <xref linkend="GUC-FOLLOW-PRIMARY-COMMAND"> description "new master" to "new primary". (Bo Peng)
     -->
     Doc: <xref linkend="GUC-FOLLOW-PRIMARY-COMMAND">ドキュメントの"new master"を"new primary"に変更しました。(Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-08-16 [bca1eaa]
    -->
    <para>
     <!--
     Fix newer version of gcc warnings. (Tatsuo Ishii)
     -->
     gccの新しいバージョンで発生するwarningを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-08-10 [2aae169]
    -->
    <para>
     <!--
     Test: Update <filename>clean.sh</filename> which clean up regression test results. (Bo Peng)
     -->
     Test: レグレッションテストの結果を削除するための<filename>clean.sh</filename>ファイルを更新しました。(Bo Peng)
    </para>
    <para>
     <!--
     Patch provided by Jesper Pedersen.
     -->
     パッチはJesper Pedersenにより提供されました。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-08-10 [6c261b3]
    -->
    <para>
     <!--
     Add .gitignore files. (Bo Peng)
     -->
     .gitignoreファイルを追加しました。(Bo Peng)
    </para>
    <para>
     <!--
     Patch provided by Jesper Pedersen.
     -->
     パッチはJesper Pedersenにより提供されました。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-08-05 [a2f3ac6]
    -->
    <para>
     <!--
     Fix segfault when node 0 is in down status in case of both health check and fail_over_on_backend_error are disabled. (Tatsuo Ishii)
     -->
     ヘルスチェックと<xref linkend="guc-failover-on-backend-error">の両方が無効になっている場合に、ノード0がダウンしたときに発生するセグメンテーション違反を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-08-03 [09a3ae1]
    -->
    <para>
     <!--
     Doc: Fix typos in documents and scripts. (Tatsuo Ishii)
     -->
     Doc: ドキュメントとスクリプトのタイポを修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     Patch contributed by Jesper Pedersen.
     -->
     パッチはJesper Pedersenにより提供されました。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-08-01 [f5eddf0]
    -->
    <para>
     <!--
     Doc: Fix document mistakes of <xref linkend="GUC-RECOVERY-1ST-STAGE-COMMAND"> and <xref linkend="GUC-RECOVERY-2ND-STAGE-COMMAND">. (Bo Peng)
     -->
     Doc: <xref linkend="GUC-RECOVERY-1ST-STAGE-COMMAND">と<xref linkend="GUC-RECOVERY-2ND-STAGE-COMMAND">のドキュメントの誤りを修正しました。
    </para>
   </listitem>
  </itemizedlist>
 </sect2>
</sect1>

<sect1 id="release-3-7-5">
 <!--
 <title>Release 3.7.5</title>
 -->
 <title>リリース 3.7.5</title>

 <note>
  <!--
  <title>Release Date</title>
  -->
  <title>リリース日</title>
  <simpara>2018-07-31</simpara>
 </note>
 <sect2>
  <!--
  <title>Bug fixes</title>
  -->
  <title>不具合修正</title> 
  <itemizedlist>

   <listitem>
    <!--
    2018-07-10 [3a3045f]
    -->
    <para>
     <!--
     Allow not to use pool_passwd in raw mode. 
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=411">bug 411</ulink>) (Tatsuo Ishii)
     -->
     <literal>raw</literal> モードで<filename>pool_passwd</filename> を使用しないように修正しました。
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=411">bug 411</ulink>) (Tatsuo Ishii)
    </para>
    <para>
     <!--
     Since in raw there's only 1 backend is actually involved, there's no
     need to use pool_passwd with md5 authentication.
     -->
     <literal>raw</literal> モードではバックエンドが 1つしかないので、<literal>md5</literal> 認証で<filename>pool_passwd</filename> を使用する必要はありません。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-07-04 [17be8d4]
    -->
    <para>
     <!--
     Fix "write on backend 0 failed with error :"Success"" error.
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=403">bug 403</ulink>) (Tatsuo Ishii)
     -->
     「write on backend 0 failed with error :"Success"」エラーを修正しました。
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=403">bug 403</ulink>) (Tatsuo Ishii)
    </para>
    <para>
     <function>write()</function> が 0 を返した場合、エラーとして扱わないように修正しました。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-07-03 [bbdf0d9]
    -->
    <para>
     <!--
     Fix for 0000409: worker process is not restarted after failover on standby Pgpool-II.
     -->
     フェイルオーバ後、スタンバイ Pgpool-II で worker プロセスが起動されない不具合を修正しました。
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=409">bug 409</ulink>) (Muhammad Usama)
    </para>
    <para>
     <!--
     Patch contributed by Yugo Nagata.
     -->
     修正パッチは Yugo Nagataによって提供されました。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-06-28 [1648cb8]
    -->
    <para>
     <!--
     Fix for 0000406: failover called with wrong old-primary.
     -->
     フェイルオーバ時に、誤ったノード ID を渡す不具合を修正しました。
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=406">bug 406</ulink>) (Muhammad Usama)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-06-22 [07380e4]
    -->
    <para>
     <!--
     Start health check process at failback.
     -->
     最初にダウンしたノードがフェイルバックした後にヘルスチェックプロセスが起動されない不具合を修正しました。
     (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=407">bug 407</ulink>) (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-06-20 [a50025b]
    -->
    <para>
     <!--
     Fix memory leaks related to pool_extract_error_message(). (Tatsuo Ishii)
     -->
     <function>pool_extract_error_message()</function> で発生するメモリリークを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-06-19 [02c49ae]
    -->
    <para>
     <!--
     Fix an incorrect declare as bool, rather than int in pool_extract_error_message(). (Tatsuo Ishii)
     -->
     <function>pool_extract_error_message()</function> 関数での誤ったデータ型の変数宣言を修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     This led to a segfault issue mentioned on certain platform.
     -->
     これにより、特定のプラットフォームでセグメンテーション違反が発生する可能性がありました。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-06-19 [cada384]
    -->
    <para>
     <!--
     Fix segfault in per_node_error_log() on armhf architecture. (Tatsuo Ishii)
     -->
     <literal>armhf</literal> アーキテクチャで発生する <function>per_node_error_log()</function> のセグメンテーション違反を修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     Patch provided by Christian Ehrhardt.
     -->
     修正パッチは Christian Ehrhardt によって提供されました。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-06-14 [3c02bd0]
    -->
    <para>
     <!--
     Fix for wrong backend roles on standby after the failover. (Muhammad Usama)
     -->
     フェイルオーバ後、スタンバイ <productname>Pgpool-II</productname> で間違ったバックエンドのロールが表示される不具合を修正しました。(Muhammad Usama)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-07-24 [68f9645]
    -->
    <para>
     <!--
     Fix document typos. (Bo Peng)
     -->
     Doc:「MD5パスワード認証」、「Pgpool-II のインストール」、「pg_md5」などのドキュメントを改善しました。(Bo Peng)
    </para>
    <para>
     <!--
     Patch provided by Takuma Hoshiai.
     -->
     修正パッチは Takuma Hoshiai によって提供されました。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-06-20 [2e87b18]
    2018-07-11 [801927a]
    -->
    <para>
     <!--
     [Test] Fix 006.memqcache test failure. (Tatsuo Ishii)
     -->
     Test: テスト006.memqcache の失敗を修正しました。(	Tatsuo Ishii)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>
</sect1>

<sect1 id="release-3-7-4">
 <!--
 <title>Release 3.7.4</title>
 -->
 <title>リリース 3.7.4</title>

 <note>
  <!--
  <title>Release Date</title>
  -->
  <title>リリース日</title>
  <simpara>2018-06-12</simpara>
 </note>
 <sect2>
  <!--
  <title>Bug fixes</title>
  -->
  <title>不具合修正</title> 
  <itemizedlist>
   <listitem>
    <!--
    2018-05-31 [068f867]
    -->
    <para>
     <!--
     Fix pgpool hung if replication delay is too much, when query cache enabled in extended query mode. (Tatsuo Ishii)
     -->
     拡張問合せ、かつクエリキャッシュが有効の場合、レプリケーション遅延が大きすぎるときに発生しうる <productname>Pgpool-II</productname> のハングアップを修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     See <ulink url="https://www.pgpool.net/pipermail/pgpool-general-jp/2018-May/001533.html">[pgpool-general-jp: 1534]</ulink> 
     for more details.
     -->
     詳細は <ulink url="https://www.pgpool.net/pipermail/pgpool-general-jp/2018-May/001533.html">[pgpool-general-jp: 1534]</ulink> 
     を参考してください。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-05-30 [272744b]
    -->
    <para>
     <!--
     Doc: Fix document typo of PCP commands option "-U". (Bo Peng)
     -->
     Doc: PCP コマンドの "-U" オプションのタイポを修正しました。 (Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-05-24 [29f7e00]
    -->
    <para>
     <!--
     Delete some debug code. (Bo Peng)
     -->
     デバッグ用コードを削除しました。(Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-05-24 [61b183c]
    -->
    <para>
     <!--
     In extended query mode, do not set writing tx flag with SET TRANSACTION READ ONLY. (Tatsuo Ishii) 
     -->
     拡張問合せでは、SET TRANSACTION READ ONLY の場合、書き込みトランザクションフラグを立てないように修正しました。 (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-05-23 [92cbc38]
    -->
    <para>
     <!--
     Fix wrong parameter %P (old primary node id) passed to failover script in 3.7.3 and 3.7.2. (Tatsuo Ishii)
     -->
     3.7.2 と 3.7.3 で発生するフェイルオーバスクリプトに間違ったパラメータ %P (古いプライマリノードID) を渡す不具合を修正しました。 (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-05-17 [5ce01ab]
    -->
    <para>
     <!--
     Doc: Clarify that failover_require_consensus requires that health check is enabled. (Tatsuo Ishii)
     -->
     Doc: <xref linkend="guc-failover-require-consensus"> を使うために、ヘルスチェックが有効になっている必要がある明確な説明をドキュメントに追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-05-09 [d272885]
    -->
    <para>
     <!--
     Doc: Update outdated pcp_proc_info manual. (Tatsuo Ishii)
     -->
     Doc: 古い <xref linkend="PCP-PROC-INFO"> のドキュメントを修正しました。 (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-05-08 [041fe59]
    -->
    <para>
     <!--
     Test: Fix test.sh in extended_query_test. (Tatsuo Ishii)
     -->
     Test: extended_query_test のスクリプト test.sh を修正しました。 (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-05-04 [451d8a5]
    -->
    <para>
     <!--
     Add missing health_check_timeout in pgpool_setup. (Tatsuo Ishii)
     -->
     <command>pgpool_setup</command> に抜けていた health_check_timeout の設定を追加しました。(Tatsuo Ishii) 
    </para>
   </listitem>

   <listitem>
    <!--
    2018-05-04 [e7c262f]
    -->
    <para>
     <!--
     Doc: Enhance online recovery document to Clarify 
     that recovery_2nd_stage_command is only required in native replication mode. (Tatsuo Ishii)
     -->
     Doc: recovery_2nd_stage_command はネイティブレプリケーションモードのみで設定する必要がある明確な説明をドキュメントに追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-04-18 [ffa545e]
    -->
    <para>
     <!--
     Prevent pcp_recovery_node from recovering "unused" status node. (Tatsuo Ishii)
     -->
     pcp_recovery_node が "unused" 状態のノードをリカバリしないように修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     This allowed to try to recover a node without configuration data,
     which leads to variety of problems. 
     -->
     これにより、設定情報がないノードをリカバリしようとするときに発生する様々な問題を回避できます。
    </para>
    <para>
     <!--
     See <ulink url="https://www.pgpool.net/pipermail/pgpool-general/2018-March/006021.html">[pgpool-general: 5963]</ulink> 
     for more details.
     -->
     詳細は
     <ulink url="https://www.pgpool.net/pipermail/pgpool-general/2018-March/006021.html">[pgpool-general: 5963]</ulink> 
     をご参照してください。
    </para>
    <para>
     <!--
     Also I fixed pgpool_recovery function so that it quotes an empty
     string argument with double quotes. 
     -->
     また、空の文字列の引数に対応できるように引数をダブルクォートで囲むように、<function>pgpool_recovery</function> 関数を修正しました。
    </para>
   </listitem>
  </itemizedlist>
 </sect2>
</sect1>

<sect1 id="release-3-7-3">
 <!--
 <title>Release 3.7.3</title>
 -->
 <title>リリース 3.7.3</title>

 <note>
  <!--
  <title>Release Date</title>
  -->
  <title>リリース日</title>
  <simpara>2018-04-17</simpara>
 </note>
 <sect2>
  <title>不具合修正</title> 
  <itemizedlist>

   <listitem>
    <!--
    2018-04-17 [7ce2a02]
    -->
    <para>
     <!--
     Disable health check per node parameters by default. (Bo Peng)
     -->
     デフォルトではノードごとヘルスチェックパラメータの設定が無効になりました。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-04-13 [d07c908]
    -->
    <para>
     <!--
     Fix pcp_detach_node hung when -g option is specified. (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=391">bug 391</ulink>) (Tatsuo Ishii)
     -->
     <xref linkend="pcp-detach-node"> コマンドで -g オプションを指定した場合に発生するハングアップを修正しました。(<ulink url="http://www.pgpool.net/mantisbt/view.php?id=391">bug 391</ulink>) (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-04-09 [1fb3008]
    -->
    <para>
     <!--
     Add new regression test for node 0 is down. (Tatsuo Ishii)
     -->
     Test: ノード0 がダウンした場合のレグレッションテストを追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-04-08 [046a855]
    -->
    <para>
     <!--
     Make calls to to_regclass fully schema qualified. (Tatsuo Ishii)
     -->
     to_regclass を呼び出すときにスキーマ名を含むように修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-04-05 [af4ea10]
    -->
    <para>
     <!--
     Fix pgpool child process segfault when ALWAYS_MASTER is on. (Tatsuo Ishii)
     -->
     ALWAYS_MASTER が on の場合に発生する <productname>Pgpool-II</productname> 子プロセスのセグメンテーション違反を修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <productname>Pgpool-II</productname> 3.7.1 で、以下の条件をすべて満たす場合にセグメンテーション違反が発生していました。
     <orderedlist>
      <listitem>
       <para>
        ストリーミングレプリケーションモード
       </para>
      </listitem>
      <listitem>
       <para>
        fail_over_on_backend_error = off
       </para>
      </listitem>
      <listitem>
       <para>
        マスタノードが ALWAYS_MASTER に設定してある
       </para>
      </listitem>
      <listitem>
       <para>
        <filename>pgpool_status</filename> ファイルの上記 3)で設定したノードの状態が down である
       </para>
      </listitem>
     </orderedlist>
    </para>
   </listitem>

   <listitem>
    <!--
    2018-04-04 [ec494b8]
    -->
    <para>
     <!--
     Improve watchdog documents. (Tatsuo Ishii)
     -->
     Doc: watchdog に関するドキュメントを更新しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-03-30 [d4b52e6]
    -->
    <para>
     Doc: 新しい設定パラメータの追加方法に関する <filename>README</filename> ファイルを追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-03-14 [fc69c68]
    -->
    <para>
     「unable to bind D cannot get parse message "S1"」エラーによるハングアップを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-03-14 [795cb98]
    -->
    <para>
     <!--
     Test: Improve test script 003.failover. (Bo Peng)
     -->
     Test: 003.failover レグレッションテストが失敗しないように修正しました。(Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-03-02 [121bf41]
    -->
    <para>
     Doc: backend_flag を使用してフェイルオーバ回避できるようにする説明をドキュメントに追加しました。(Tatsuo Ishii)
    </para>
    <para>

    </para>
   </listitem>

   <listitem>
    <!--
    2018-02-28 [8593af6]
    -->
    <para>
     <!--
     Doc: Fix document typos. (Bo Peng)
     -->
     Doc: ドキュメントのタイポを修正しました。(Bo Peng)
    </para>
    <para>

    </para>
   </listitem>

   <listitem>
    <!--
    2018-02-27 [f0c510f]
    -->
    <para>
     Test: ノード0がプライマリではない場合のレグレッションテストを追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-02-27 [45e9699]
    -->
    <para>
     <!--
     Fix <command>pgpool_setup</command> failure in replication mode. (Tatsuo Ishii)
     -->
     レプリケーションモードで <command>pgpool_setup</command> が失敗するのを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-02-27 [40647e2]
    -->
    <para>
     <productname>PostgreSQL</productname> 10 に対応できるように pgpool_switch_xlog を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-02-26 [e8baa3f]
    -->
    <para>
     3.7.2 のコミット <ulink url="https://git.postgresql.org/gitweb/?p=pgpool2.git;a=commit;h=9022ff842fb5dbbe06e2f2f4cf38fadf47b592da">9022ff842fb5dbbe06e2f2f4cf38fadf47b592da</ulink> を取り消しました。(Tatsuo Ishii)
    </para>
    <para>
     このコミットにより、 プライマリがノード 0 以外の場合に更新クエリを実行できなくなっていました。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-02-19 [a3e2c68]
    -->
    <para>
     Test: 拡張クエリのテストスクリプトを改善しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-02-14 [ab93bb7]
    -->
    <para>
     <!--
     Fix pgpool_adm family functions examples. (Tatsuo Ishii)
     -->
     Doc: <link linkend="pgpool-adm"> pgpool_adm エクステンション</link>関数の例を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

  </itemizedlist>

 </sect2>
</sect1>

<sect1 id="release-3-7-2">
 <!--
 <title>Release 3.7.2</title>
 -->
 <title>リリース 3.7.2</title>

 <note>
  <!--
  <title>Release Date</title>
  -->
  <title>リリース日</title>
  <simpara>2018-02-13</simpara>
 </note>
 <note>
  <para>
   このリリースでは、Pgpool-II 3.7.0、3.6.6、3.5.10 で追加された、ソケット
   への書き込み不具合を修正しています。この障害により、ネットワーク負荷が
   高い状態でのフロントエンド、バックエンドへのメッセージ送信の際に、不正
   なメッセージが送信される可能性があります。3.7.x、3.6.6 以降、3.5.10 以降
   のバージョンを利用中のユーザは、できるだけ早くアップグレードすることを
   お勧めします。
  </para>
 </note>

 <sect2>
  <title>変更点</title> 
  <itemizedlist>
   <listitem>
    <!--
    2018-02-10 [6c77a9e]
    -->
    <para>
     <!--
     Allow to build with libressl. (Tatsuo Ishii)
     -->
     <productname>Pgpool-II</> が libressl の環境でビルドできるようになりました。(Tatsuo Ishii)
    </para>
    <para>
     詳細は <ulink url="https://www.pgpool.net/pipermail/pgpool-hackers/2018-February/002714.html">[pgpool-hackers: 2714]</ulink> を参照してください。パッチは Sandino Araico Sanchez により提供されました。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-01-29 [144e7a8]
    -->
    <para>
     <!--
     Set TCP_NODELAY and non blocking to frontend socket. (Tatsuo Ishii)
     -->
     <productname>PostgreSQL</>のようにフロントエンドソケットを TCP_NODELAY、non-blocking に設定しました。 (Tatsuo Ishii) 
    </para>
   </listitem>

   <listitem>
    <!--
    2018-01-19 [9357d76]
    -->
    <para>
     <!--
     Change systemd service file to use STOP_OPTS=" -m fast". (Bo Peng)
     -->
     systemd サービスを用いて<productname>Pgpool-II</> を停止するときに fast モードで停止するように変更しました。 (Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-01-19 [d1565e7]
    -->
    <para>
     <!--
     Change pgpool_setup to add restore_command in recovery.conf. (Bo Peng)
     -->
     pgpool_setup の recovery.conf で  restore_command を使用するように pgpool_setup を変更します。 (Bo Peng)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>

 <sect2>
  <title>不具合修正</title> 
  <itemizedlist>
   <listitem>
    <!--
    2018-02-09 [324768d]
    -->
    <para>
     <!--
     Fix writing transaction flag is accidentally set at commit or rollback. (Tatsuo Ishii)
     -->
     コミットまたはロールバック時に誤って書き込みトランザクションフラグをセットする不具合を修正しました。 (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-02-01 [ff0b66e]
    -->
    <para>
     <!--
     Throw a warning message when failover consensus settings on watchdog nodes differs. (Muhammad Usama)
     -->
     watchdog のフェイルオーバーコンセンサスの設定が異なる場合、警告メッセージを表示するように修正しました。(Muhammad Usama)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-01-31 [8f9e406]
    -->
    <para>
     <!--
     Fix document typo. (Bo Peng)
     -->
     Doc: ドキュメントのタイポを修正しました。 (Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-01-29 [22f739a]
    -->
    <para>
     <!--
     Fix bug with socket writing. (Tatsuo Ishii)
     -->
     ソケット書き込みの不具合を修正しました。 (Tatsuo Ishii)
    </para>
    <para>
     ネットワーク負荷が高い場合に、フロントエンド、バックエンドへのメッセージ送信の際に、
     不正なメッセージが送信される可能性があるのを修正しました。
    </para>
    <para>
     このバグは 3.6.6、3.5.10 がリリースされた際に追加されたものです。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-01-29 [36517db]
    -->
    <para>
     <!--
     Fix pgpool child process segfault when ALWAYS_MASTER is on. (Tatsuo Ishii)
     -->
     ALWAYS_MASTER がオンの場合に発生するPgpool-II の子プロセスのセグメンテーション違反を修正しました。 (Tatsuo Ishii)
    </para>
    <para>
     <!--
     If following conditions are all met pgpool child segfaults:
     -->
     以下で条件で発生します。
     <orderedlist>  
      <listitem>
       <para>
	<!--
	Streaming replication mode.
	-->
	ストリーミングレプリケーションモード
       </para>
      </listitem>
      <listitem>
       <para>
	<!--
	fail_over_on_backend_error is off.
	-->
	fail_over_on_backend_error=off
       </para>
      </listitem>
      <listitem>
       <para>
	<!--
	ALWAYS_MASTER flags is set to the master (writer) node.
	-->
	マスタノードの backend_flag が ALWAYS_MASTER に設定してある
       </para>
      </listitem>
      <listitem>
       <para>
	<!--
	pgpool_status file indicates that the node mentioned in #3 is in down status.
	-->
	pgpool_status ファイルで #3 のノードの状態が down である
       </para>
      </listitem>
     </orderedlist>  
    </para>
    <para>
     <!--
     See <ulink url="https://www.pgpool.net/pipermail/pgpool-hackers/2018-January/002687.html">[pgpool-hackers: 2687]</ulink> and <ulink url="https://www.pgpool.net/pipermail/pgpool-general/2018-January/005939.html">[pgpool-general: 5881]</ulink> for more details.
     -->
     詳細は <ulink url="https://www.pgpool.net/pipermail/pgpool-hackers/2018-January/002687.html">[pgpool-hackers: 2687]</ulink> と <ulink url="https://www.pgpool.net/pipermail/pgpool-general/2018-January/005939.html">[pgpool-general: 5881]</ulink> を参照してください。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-01-24 [1a4dfec]
    -->
    <para>
     <!--
     Fix segfault when %a is in log_line_prefix and debug message is on. (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=376">bug 376</ulink>) (Tatsuo Ishii)
     -->
     デバッグモードがオン、かつ log_line_prefix に %a を指定した場合に発生するセグメンテーション違反を修正しました。(<ulink url="http://www.pgpool.net/mantisbt/view.php?id=376">bug 376</ulink>) (Tatsuo Ishii)
    </para>

   </listitem>

   <listitem>
    <!--
    2018-01-23 [b6bc607]
    -->
    <para>
     <!--
     Fix per node health check parameters types. (Tatsuo Ishii)
     -->
     ノードごとのヘルスチェックパラメータのデータ型の不具合を修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2018-01-18 [c5c72c3]
    -->
    <para>
     <!--
     Fix queries hanging in parse_before_bind with extended protocol and replication + load-balancing. (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=377">bug 377</ulink>) (Tatsuo Ishii)
     -->
     拡張プロトコル、レプリケーションモードかつロードバランスを使用した場合に発生しうるハングアップを修正しました。(<ulink url="http://www.pgpool.net/mantisbt/view.php?id=377">bug 377</ulink>) (Tatsuo Ishii)
    </para>
   </listitem>

  </itemizedlist>
 </sect2>
</sect1>

<sect1 id="release-3-7-1">
 <!--
 <title>Release 3.7.1</title>
 -->
 <title>リリース 3.7.1</title>

 <note>
  <!--
  <title>Release Date</title>
  -->
  <title>リリース日</title>
  <simpara>2018-01-09</simpara>
 </note>

 <sect2>
  <title>不具合修正</title>
  <itemizedlist>

   <listitem>
    <!--
    2018-01-08 [4427782]
    -->
    <para>
     <!--
     Improve Makefiles. (Bo Peng)
     -->
     Makefile を改善しました。(Bo Peng)
    </para>
    <para>
     <!--
     Patch provided by Tomoaki Sato.
     -->
     Tomoaki Sato がパッチを提供しました。
    </para>
   </listitem>

   <listitem>
    <!--
    2018-01-06 [915c6df]
    2017-12-21 [b515794]
    -->
    <para>
     <!--
     Fix document typo. (Bo Peng)
     -->
     Doc: ドキュメントのミスとタイポを修正しました。(Bo Peng)
    </para>
   </listitem>

   <listitem>
    <!--
    2017-12-22 [e67b610]
    -->
    <para>
     <!--
     Replace /bin/ed with /bin/sed, because /bin/sed is included in most distribution's base packages. (Tatsuo Ishii)
     -->
     <xref linkend="pgpool-setup"> スクリプト内の <command>/bin/ed</command> を <command>/bin/sed</command> に置き換えました。(Tatsuo Ishii)
    </para>
    <para>
     <command>/bin/sed</command> は <command>/bin/ed</command>に比べてほとんどのディストリビューションの基本パッケージに含まれているためです。
    </para>
   </listitem>

   <listitem>
    <!--
    2017-12-21 [6388631]
    -->
    <para>
     <!--
     Change the pgpool.service and sysconfig files to output Pgpool-II log. (Bo Peng)
     -->
     ログを取得するために <filename>pgpool.service</filename> とsysconfig ファイルを変更しました。(Bo Peng)
    </para>
    <para>
     <!--
     Removeing "Type=forking" and add OPTS=" -n" to
     run Pgpool-II with non-daemon mode, because we need to redirect logs.
     Using "journalctl" command to see Pgpool-II systemd log.
     -->
     ログを取得するために、非デーモンモードで <productname>Pgpool-II</productname> を起動するように Type=forking を削除し、OPTS=" -n" を追加しました。<command>journalctl</command> コマンドで <productname>Pgpool-II</productname> の systemd のログを確認することができます。
    </para>
   </listitem>

   <listitem>
    <!--
    2017-12-19 [d712067]
    -->
    <para>
     <!--
     Add documentation for SGML document build. (Tatsuo Ishii)
     -->
     Doc: 新しいドキュメント<link linkend="install-docs">「ドキュメントのコンパイルとインストール」</link>を追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2017-12-19 [88108ba]
    -->
    <para>
     <!--
     Fix per node health check parameters ignored. (Tatsuo Ishii)
     -->
     ノードごとのヘルスチェックパラメータが無視される不具合を修正しました。(<ulink url="http://www.pgpool.net/mantisbt/view.php?id=371">bug 371</ulink>) (Tatsuo Ishii)
    </para>
    <para>
     <!--
     Also pgpool_setup is modified to add appropriate per node health check
     parameters to pgpool.conf.
     -->
     また、<xref linkend="pgpool-setup"> がノードごとのヘルスチェックパラメータを <filename>pgpool.conf</filename> に追加するように変更しました。
    </para>
   </listitem>

   <listitem>
    <!--
    2017-12-19 [7898d48]
    -->
    <para>
     <!--
     Fix health checking process death and forking forever. (Tatsuo Ishii)
     -->
     ヘルスチェックプロセスがエラーで終了したときに、<productname>Pgpool-II</productname> が新しいヘルスチェックプロセスをフォークするように修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     When failed to read from backend socket (this could happen when wrong
     health_check_user is specified), the health check process raises a
     FATAL error in pool_read(), which causes death of health check
     process. And Pgpool-II main forks off a new health check process. This
     repeats forever.
     -->
     バックエンドソケットの読み込みに失敗した場合 (これはhealth_check_userが間違っていると発生する可能性がある）、ヘルスチェックプロセスは <function>pool_read()</function> でFATALエラーを発生させ、ヘルスチェックプロセスを終了させます。
     そして、<productname>Pgpool-II</productname> は、新しいヘルスチェックプロセスをフォークします。
     これは永遠に繰り返されます。
    </para>
   </listitem>

   <listitem>
    <!--
    2017-12-17 [b974f5f]
    2017-12-18 [646477a]
    -->
    <para>
     <!--
     Fix timestamp data inconsistency by replication mode. (Bo Peng)
     -->
     ネイティブレプリケーションモードで発生するタイムスタンプデータの不整合を修正しました。 (Bo Peng)
    </para>
    <para>
     <!--
     From PostgreSQL10 the column default value such as 'CURRENT_DATE' changes,
     Pgpool-II didn't rewrite timestamp by the added default
     values. This caused data inconsistency.
     -->
     <productname>PostgreSQL</productname> 10から「CURRENT_DATE」のようなカラムのデフォルト値が変わったので、<productname>Pgpool-II</productname> はこれらのタイムスタンプをリライトしませんでした。これによって、データの不整合が発生していました。
    </para>
   </listitem>

   <listitem>
    <!--
    2017-12-14 [5281126]
    -->
    <para>
     <!--
     Fix watchdog_setup up doc. (Tatsuo Ishii)
     -->
     Doc: <xref linkend="watchdog-setup"> のドキュメントを修正しました。 (Tatsuo Ishii)
    </para>
    <para>
     <!--
     It lacked to mention that it supports logical replication mode.
     -->
     ロジカルレプリケーションモードにも対応するとの説明を追加しました。
    </para>
   </listitem>

   <listitem>
    <!--
    2017-12-14 [4fa846b]
    -->
    <para>
     <!--
     Downgrade a log message to debug message. (Tatsuo Ishii)
     -->
     一部のログメッセージをデバッグメッセージにダウングレードしました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     That was mistaken left while last development cycle.
     -->
     前回の開発で誤って残していました。
    </para>
   </listitem>

   <listitem>
    <!--
    2017-12-13 [51a8687]
    -->
    <para>
     <!--
     Add test data for bug370. (Tatsuo Ishii)
     -->
     Test: <ulink url="http://www.pgpool.net/mantisbt/view.php?id=370">bug370</ulink> のテスト用データを追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2017-12-12 [73269e2]
    -->
    <para>
     <!--
     Fix for re-sync logic in reading packet from backend. (Tatsuo Ishii)
     -->
     バックエンドからのパケットを読み込む際の再同期のロジックを修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     Fix for re-sync logic in reading packet from backend. (Tatsuo Ishii)
     read_kind_from_backend(), which reads message kind from backend,
     re-syncs backend nodes when a ready for query message is
     received. Unfortunately it forgot to call
     pool_pending_message_pull_out() to delete sync pending message. This
     leads to random stuck while reading packets from backend. Fix this to
     call pool_pending_message_pull_out().
     -->
     <function>read_kind_from_backend()</function> は、バックエンドからメッセージを読み取り、"ready for query" メッセージが受信されたときにバックエンドノードを再同期します。
     しかし、<function>pool_pending_message_pull_out()</function> を呼び出して「sync メッセージを受信した」を削除することを忘れていました。
     これによって、バックエンドからのパケットの読み取り中に <productname>Pgpool-II</productname> がハングアップする可能性がありました。
     <function>pool_pending_message_pull_out()</function>を呼び出し、「sync メッセージを受信した」を削除するように修正しました。
    </para>
   </listitem>

   <listitem>
    <!--
    2017-12-12 [0e658bb]
    -->
    <para>
     <!--
     Fix Pgpool-II hangs.(Bug370) (Tatsuo Ishii)
     -->
     問い合わせ中に <productname>Pgpool-II</productname> がハングアップする不具合を修正しました。(<ulink url="http://www.pgpool.net/mantisbt/view.php?id=370">bug 370</ulink>) (Tatsuo Ishii)
    </para>
    <para>
     <!--
     If an erroneous query is sent to primary and without a sync message the next query that requires a catalog cache look up is send, Pgpool-II hangs in do_query().
     -->
     エラークエリがプライマリに送信され、sync メッセージを送信せずに、次のクエリを実行するときに、
     <productname>PostgreSQL</productname> のシステムカタログへの問い合わせが必要な場合、<productname>Pgpool-II</productname> は <function>do_query()</function> 関数でハングアップしていました。
    </para>
   </listitem>

   <listitem>
    <!--
    2017-12-10 [ec3350c]
    -->
    <para>
     <!--
     Fix returning transaction state when "ready for query" message received. (Tatsuo Ishii)
     -->
     "ready for query" メッセージを受信したときにトランザクション状態を返すように修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     We return primary or master node state of ready for query message to
     frontend. In most cases this is good. However if other than primary
     node or master node returns an error state (this could happen if load
     balance node is other than primary or master node and the query is an
     errornous SELECT), this should be returned to frontend, because the
     frontend already received an error.
     -->
     今まではプライマリノードまたはマスターノードの状態をフロントエンドに返していました。
     ほとんどの場合、問題がありませんでした。
     ただし、プライマリノードまたはマスターノード以外のノードがエラー状態を返した場合(ロードバランスノードがプライマリまたはマスターノード以外で、誤った SELECT クエリの場合に発生する可能性がある)、このエラー状態をフロントエンドに返す必要がありました。
    </para>
   </listitem>

   <listitem>
    <!--
    2017-12-10 [3018f66]
    -->
    <para>
     <!--
     Fix but with extended-query-test test driver. (Tatsuo Ishii)
     -->
     Test: extended-query-test テストスクリプトを修正しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2017-11-23 [6664ce2]
    2017-11-23 [87ebfb7]
    -->
    <para>
     Doc: ドキュメント<link linkend="running-mode">「Pgpool-IIの動作モード」</link> を改善しました。 (Tatsuo Ishii)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>
</sect1>

<sect1 id="release-3-7">
 <!--
 <title>Release 3.7</title>
 -->
 <title>リリース 3.7</title>

 <note>
  <!--
  <title>Release Date</title>
  -->
  <title>リリース日</title>
  <simpara>2017-11-22</simpara>
 </note>

 <sect2>
  <!--
  <title>Overview</title>
  -->
  <title>概要</title>
  <para>
   <!--
   This version improves reliability of failover by using new
   watchdog feature and per node health check.  Also this version
   adapts to changes in PostgreSQL 10: new SQL parser, logical
   replication and some admin functions name changes.
   -->
   このバージョンでは、新しい<application>watchdog</application>機能とノードごとのヘルスチェックの設定により、フェイルオーバの信頼性が向上しています。また、このバージョンでは、<productname>PostgreSQL</productname> 10の新しい<literal>SQL</literal>パーサ、ロジカルレプリケーション、およびいくつかの管理関数の名前の変更に対応しています。
  </para>
  <para>
   <!--
   Major enhancements in <productname>Pgpool-II</productname> 3.7 include:
   -->
   Pgpool-II 3.7 の主な改善点は以下のとおりです。
  </para>

  <!-- Items in this list summarize one or more items below -->

  <itemizedlist>

   <listitem>
    <para>
     <!--
     Quorum aware failover feature.
     -->
     クォーラム機能によりフェイルオーバを決定するようになりました。
    </para>
   </listitem>

   <listitem>
    <para>
     <!--
     Allow specifying the hostnames in pool_hba.
     -->
     <filename>pool_hba</filename>ではホスト名を指定できるようになりました。
    </para>
   </listitem>

   <listitem>
    <para>
     <!--
     Allow to specify per node health check parameters.
     -->
     <productname>PostgreSQL</productname>バックエンドごとにヘルスチェックパラメータを設定できるようになりました。
    </para>
   </listitem>

   <listitem>
    <para>
     <!--
     Support AWS Aurora.
     -->
     <application>AWS Aurora</application> に対応しました。
    </para>
   </listitem>

   <listitem>
    <para>
     <!--
     Import PostgreSQL 10 SQL parser
     -->
     <productname>PostgreSQL</productname> 10 のSQLパーサを取り込みました。
    </para>
   </listitem>
   <listitem>
    <para>
     <!--
     Support logical replication.
     -->
     ロジカルレプリケーションに対応しました。
    </para>
   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <!--
  <title>Major Enhancements</title>
  -->
  <title>主な改善点</title>

  <itemizedlist>
   <listitem>
    <!--
    2017-09-18 [54af632]
    2017-10-03 [12bd99b]
    -->
    <para>
     <!--
     Quorum and Consensus for backend failover. (Muhammad Usama)
     -->
     クォーラム機能によりフェイルオーバを決定するようになりました。(Muhammad Usama)
    </para>
    <para>
     <!--
     Add ability in the Pgpool-II to considers the existence of
     quorum and seek the majority node (Pgpool-II nodes part of
     the watchdog cluster) consensus to validate the backend node
     failover request. This feature helps make failover decision
     better and prevent split brain scenarios.
     -->
     <productname>Pgpool-II</productname>はクォーラム機能を利用し、<application>watchdog</application>クラスタ内で<productname>PostgreSQL</productname>バックエンドノードのフェイルオーバを決定する機能を追加しました。この機能追加により、スプリットブレインを防止することができます。

    </para>

    <para>
     <!--
     The addition of this feature also made some modification in
     the execution behavior of the failover (failover, failback,
     promote-node) command.
     -->
     この変更により、failover、failback、promote-node コマンドの処理も変更しました。
    </para>

    <para>
     <!--
     Now only the Master node performs the failover, and the failover
     locks are removed.
     -->
     また、マスタノードだけがフェイルオーバーを実行することになったので、フェイルオーバ時にロックする必要がなくなりました。
    </para>

    <para>
     <!--
     Three new configuration parameters to configure the failover
     behavior from user side: failover_when_quorum_exists,
     failover_require_consensus,
     enable_multiple_failover_requests_from_node.
     -->
     この機能追加に伴い、以下の 3つのフェイルオーバに関するパラメータを追加しました。
     <itemizedlist>
      <listitem>
       <para>
	<!--
	<xref linkend="guc-failover-when-quorum-exists">
	-->
	failover_when_quorum_exists
       </para>
      </listitem>
      <listitem>
       <para>
	<!--
	<xref linkend="failover-require-consensus">
	-->
	failover_require_consensus
       </para>
      </listitem>
      <listitem>
       <para>
	<!--
	<xref linkend="allow-multiple-failover-requests-from-node">
	-->
	allow_multiple_failover_requests_from_node
       </para>
      </listitem>
     </itemizedlist>
    </para>
   </listitem>

   <listitem>
    <!--
    2017-09-20 [3cc5235]
    -->
    <para>
     <!--
     Allow specifying the hostnames in pool_hba. (Muhammad Usama)
     -->
     <filename>pool_hba</filename>でホスト名を指定できるようになりました。(Muhammad Usama)
    </para>
    <para>
     <!--
     The commit adds the support of hostnames to be used in the
     address field of pool_hba records, previously only CIDR
     address was supported.
     -->
     <filename>pool_hba</filename>設定ファイルの address フィールドにおいて、以前はCIDRアドレスのみに対応していましたが、この修正により、ホスト名にも対応するようになりました。
    </para>

    <para>
     <!--
     Along with allowing the hostnames in address field of the
     HBA record the commit also made the following enhancements
     in the area.
     -->
     この機能追加に伴い、以下の改善も行いました。
    </para>

    <para>
     <!--
     (1) pool_hba records are now completely parsed at the
     loading time and we now keep the structured data of records
     instead of raw record lines, This saves the parsing at every
     new connection time and however little it may be but its a
     performance enhancement.
     -->
     (1) pool_hba レコードはロード時に完全に解析されるようになりました。Raw レコード行ではなく、構造化されたデータを保存します。これにより、新規接続時間が短縮され、パフォーマンスが向上します。
    </para>
    <para>
     <!--
     (2) Enhanced parsing now gives the better descriptive
     error/log messages.
     -->
     (2) エラー/ログメッセージが改善されました。
    </para>

    <para>
     <!--
     (3) Better handling of auth-options field.
     -->
     (3) auth-options フィールドの処理が改善されました。
    </para>
   </listitem>

   <listitem>
    <!--
    2017-04-20 [127e64f]
    2017-04-26 [c0d209d]
    2017-05-16 [18f4d2e]
    2017-05-31 [cbf1268]
    -->
    <para>
     <!--
     Supporting per node health check parameters. (Tatsuo Ishii,
     Muhammad Usama)
     -->
     <productname>PostgreSQL</productname>ノードごとにヘルスチェックパラメータを設定できるようになりました。(Tatsuo Ishi, Muhammad Usama)
    </para>
    <para>
     <!--
     Previous implementation of health check is a single serial
     processing for all of database nodes.
     -->
     従来のヘルスチェックでは、すべての<productname>PostgreSQL</productname>ノードを順番にチェックし、パラメータはノードごとには設定できず、全ノードで共通の設定でした。
    </para>
    <para>
     <!--
     Now pgpool main process forks health check process for each
     DB node.  This commit enables all health-check related
     parameter to be configured for each individual backend
     nodes.
     -->
     この機能追加により、<productname>Pgpool-II</productname>の親プロセスが<productname>PostgreSQL</productname>ノードごとにヘルスチェックプロセスをフォークし、ヘルスチェックに関連するパラメータがノードごとに設定できるようになりました。
    </para>
    <para>
     <!--
     For example if we have 3 backend nodes and do following
     configurations.
     -->
     例えば、<productname>PostgreSQL</productname>バックエンドノードが3台の場合、以下のように設定すると、
    </para>
    <programlisting>
     health_check_period = 10
     health_check_period0 = 5
    </programlisting>

    <para>
     <!--
     Then will set the health_check_period for node 0 to 5 while
     node-id 1 and 2 will get the value 10
     -->
     ノード0に<varname>health_check_period = 5</varname> が設定され、ノード1 と2 に<varname>health_check_period = 10</varname>が設定されます。
    </para>
   </listitem>

   <listitem>
    <!--
    2017-10-03 [57196ae]
    -->
    <para>
     <!--
     Import PostgreSQL 10 SQL parser. (Bo Peng)
     -->
     <productname>PostgreSQL</productname> 10 のパーサを取り込みました。(Bo Peng)
    </para>
    <para>

    </para>
   </listitem>

   <listitem>
    <!--
    2017-07-12 [e9b241e]
    2017-07-12 [6bbcfe7]
    2017-07-12 [b61019e]
    2017-07-13 [e626055]
    2017-07-12 [ea1a6b9]
    -->
    <para>
     <!--
     Support AWS Aurora. (Tatsuo Ishii)
     -->
     <productname>AWS Aurora</productname>に対応しました。 (Tatsuo Ishii)
    </para>
    <para>
     <!--
     Add new backend flag "ALWAYS_MASTER" to control the primary
     node detecting logic. Since we cannot use
     pg_is_in_recovery() in Aurora, we assign the new flag to a
     backend which is specified as "writer" in Aurora. Since
     Aurora always use the same hostname for the master (it's
     called "writer"), find_primary_node() just returns the node
     id which has ALWAYS_MASTER flag on.
     -->
     プライマリノード検出ロジックを制御する新しいバックエンドフラグ「ALWAYS_MASTER」を追加しました。Aurora では<function>pg_is_in_recovery()</function>を使用できないため、<productname>Aurora</productname>の "writer"として指定されたバックエンドに「ALWAYS_MASTER」を割り当てます。Aurora は常にマスタに同じホスト名を使用するため、<function>find_primary_node()</function> は「ALWAYS_MASTER」フラグが立っているノードIDを返します。
    </para>
    <para>
     <!--
     See more details about ALWAYS_MASTER
     flag <xref linkend="backend-flag-table">.
     -->
     詳細は、<link linkend="backend-flag-table">ALWAYS_MASTER</link>を参照してください。
    </para>
    <para>
     <!--
     Other than that, user can use the streaming replication mode
     with Aurora. Notice that replication delay cannot be
     performed in Aurora, sr_check_period should be always 0.
     -->
     それ以外は、<productname>Aurora</productname>ではストリーミングレプリケーションモードを使用することができます。 <productname>Aurora</productname>ではレプリケーション遅延を検査できないことに注意してください。<xref linkend="guc-sr-check-period">は常に0にする必要があります。
    </para>
    <para>
     <!--
     Also add English/Japanese Aurora setting example.
     -->
     設定については <link linkend="example-AWS">AWS設定の例</link>を参照してください。
    </para>
   </listitem>

   <listitem>
    <!--
    2017-08-17 [184b412]
    2017-08-17 [88c5c11]
    -->
    <para>
     <!--
     Support logical replication. (Tatsuo Ishii)
     -->
     ロジカルレプリケーションモードを追加しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     The logical replication mode can be used
     with <productname>PostgreSQL</productname> servers operating
     logical replication. In this
     mode, <productname>PostgreSQL</productname> is responsible
     for synchronizing tables.
     -->
     ロジカルレプリケーションモードはロジカルレプリケーションを使用する<productname>PostgreSQL</>サーバと一緒に使うことができます。このモードでは、<productname>PostgreSQL</>がテーブルを同期する責任を持ちます。
    </para>
    <para>
     <!--
     Load balancing is possible in the mode. Since logical
     replication does not replicate all tables, it's user's
     responsibility to replicate the table which could be load
     balanced.
     -->
     このモードでは負荷分散が可能です。ロジカルレプリケーションは必ずしもすべてのテーブルをレプリケーションしないので、負荷分散させるテーブルがレプリケーションされるようにするのはユーザの責任です。
    </para>
    <para>
     <!--
     The sample configuration file
     is <filename>$prefix/etc/pgpool.conf.sample-logical</filename>.
     -->
     サンプルの設定ファイルは <filename>$prefix/etc/pgpool.conf.sample-logical</filename>です。
    </para>
    <para>
     <!--
     And add support for logical replication mode
     to <application>pgpool_setup</application>.
     -->
     <application>pgpool_setup</> もロジカルレプリケーションモードに対応しました。
    </para>
   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <!--
  <title>Other Enhancements</title>
  -->
  <title>他の改善点</title>
  <itemizedlist>
   <listitem>
    <!--
    2017-11-09 [9f12b15]
    -->
    <para>
     <!--
     Test: Add some watchdog test cases. (Muhammad Usama)
     -->
     Test: Watchdog のテストケースを追加しました。 (Muhammad Usama)
    </para>
   </listitem>

   <listitem>
    <!--
    2017-10-05 [7dace77]
    2017-10-10 [79baaf0]
    2017-10-10 [6da5672]
    2017-10-10 [f18e099]
    -->
    <para>
     <!--
     Test: Add new test case "node_js.data" to extended-query-test.(Tatsuo Ishii)
     -->
     Test: extended-query-test に新しいテストケース "node_js.data"を追加しました。 (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2017-10-04 [0e0d7eb]
    -->
    <para>
     <!--
     Documentation updates for pool_hba enhancements.(Muhammad Usama)
     -->
     Doc: <link linkend="auth-pool-hba-conf">「pool_hba.conf ファイル」</link>に関するドキュメントを更新しました。(Muhammad Usama)

    </para>
   </listitem>

   <listitem>
    <!--
    2017-09-01 [6e71926]
    -->
    <para>
     <!--
     Add "slony mode" to pgpool_setup. (Tatsuo Ishii)
     -->
     <application>pgpool_setup</application>が<application>slony</application>モードに対応しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2017-09-11 [c0f4f1a]
    -->
    <para>
     <!--
     Deal with OpenSSL 1.1. (Tatsuo Ishii, Muhammad Usama)
     -->
     <application>OpenSSL 1.1</application>に対応しました。(Tatsuo Ishii, Muhammad Usama)
    </para>
   </listitem>

   <listitem>
    <!--
    2017-03-29 [3dd0278]
    -->
    <para>
     <!--
     Test: Add new regression test "069. memory_leak_extended". (Tatsuo Ishii)
     -->
     Test: 新しいレグレッションテスト「069. memory_leak_extended」を追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2017-01-25 [91143a1]
    -->
    <para>
     <!--
     Doc: Enhance query cache documents. (Tatsuo Ishii)
     -->
     Doc: インメモリキャッシュに関するドキュメントを更新しました。(Tatsuo Ishii)
    </para>
   </listitem>
   <listitem>
    <!--
    2016-12-20 [f6659fb]
    2016-12-20 [5485b9b]
    -->
    <para>
     <!--
     Doc: Add "Tips for Installation" section. (Tatsuo Ishii)
     -->
     Doc: ドキュメントに<link linkend="installation-tips">「インストールのヒント」</link>を追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2017-09-19 [34922b5]
    -->
    <para>
     <!--
     Test: Add new test 011.watchdoc_quorum_failover. (Tatsuo Ishii)
     -->
     Test: 新しいレグレッションテスト「011.watchdoc_quorum_failover」を追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2017-09-17 [3810b55]
    -->
    <para>
     <!--
     Test: Add new test suits. (Tatsuo Ishii)
     -->
     Test: 新しいテストケース「extended-query-test」を追加しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     The new test suit "extended-query-test" is intended to test extended
     queries using pgproto command.
     -->
     この新しいテストケースは、<productname>pgproto</productname>コマンドを使い拡張クエリをテストするために追加しました。
    </para>
   </listitem>

   <listitem>
    <!--
    2017-09-10 [d114c19]
    -->
    <para>
     <!--
     Add debugging aid to check pending message and backend
     response. (Tatsuo Ishii)
     -->
     保留中のメッセージとバックエンドの応答を確認するためのデバッグ情報を追加しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     New function pool_check_pending_message_and_reply() added.
     If pending message kind and backend reply message kind is
     not inconsistent, it prints a debug message. Currently the
     only client of the function is read_kind_from_backend().
     -->
     新しい関数<function>pool_check_pending_message_and_reply()</function>を追加しました。保留中のメッセージの種類とバックエンドの応答メッセージの種類が一致しない場合、デバッグメッセージを出力します。今までは、<function>read_kind_from_backend()</function>関数のみでした。
    </para>
   </listitem>

   <listitem>
    <!--
    2017-09-08 [0f75428]
    -->
    <para>
     <!--
     Add debugging/testing aid for health check. (Tatsuo Ishii)
     -->
     ヘルスチェックのためのデバッグ情報を追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

  </itemizedlist>
 </sect2>

 <sect2>
  <!--
  <title>Changes</title>
  -->
  <title>変更点</title>
  <itemizedlist>
   <listitem>
    <!--
    2017-10-04 [1e26fa7]
    -->
    <para>
     <!--
     Add "role" field to pcp_node_info command.(Tatsuo Ishii)
     -->
     <xref linkend="PCP-NODE-INFO">コマンドの出力に「role」フィールドを追加しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     Role is the server role: one of "primary", "standby",
     "master" or "slave".
     -->
     「role」フィールドに「primary」、「standby」、「master」、「slave」のいずれかが出力されます。
    </para>
   </listitem>
   <listitem>
    <!--
    2017-09-01 [9ebcdbc]
    -->
    <para>
     <!--
     Change master_slave_sub_mode default to 'stream'. (Tatsuo Ishii)
     -->
     master_slave_sub_modeパラメータのデフォルト値を「stream」に変更しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     This is necessary since the default value for the
     pool_config_variable.c is STREAM_MODE.
     -->
     <filename>pool_config_variable.c</filename>のデフォルト値が「STREAM_MODE」であるため、この変更が必要でした。
    </para>
   </listitem>

   <listitem>
    <!--
    2017-05-31 [20e1dab]
    -->
    <para>
     <!--
     Allow to fork new health check process when it exits. (Tatsuo Ishii)
     -->
     終了時に新しいヘルスチェックプロセスをフォークするようにしました。(Tatsuo Ishii)
    </para>
    <para>

    </para>
   </listitem>

   <listitem>
    <!--
    2017-05-31 [b37dcc4]
    -->
    <para>
     <!--
     Doc: Add new group "health_check" to PGPOOL SHOW command doc. (Tatsuo Ishii)
     -->
     Doc:  <link linkend="SQL-PGPOOL-SHOW">PGPOOL SHOW</link>コマンドのパラメータグループに「health_check」を追加しました。(Tatsuo Ishii)
    </para>
    <para>

    </para>
   </listitem>

   <listitem>
    <!--
    2017-04-12 [6eb7160]
    -->
    <para>
     <!--
     Remove old html docs and related files. (Tatsuo Ishii)
     -->
     Doc: 古いhtmlドキュメント及び関連ファイルを削除しました。(Tatsuo Ishii)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>

 <sect2>
  <!--
  <title>Bug fix</title>
  -->
  <title>不具合修正</title>
  <itemizedlist>
   <listitem>
    <!--
    2017-10-10 [fafb82c]
    -->
    <para>
     <!--
     Fix Pgpool-II hanging after receiving 'H' (flush) message in streaming replication mode. (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=345">bug 345</ulink>) (Tatsuo Ishii)
     -->
     ストリーミングレプリケーションモードで、'H' (flush) メッセージを受信した後に発生するハングアップを修正しました。 (<ulink url="http://www.pgpool.net/mantisbt/view.php?id=345">bug 345</ulink>) (Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2017-09-22 [e18632e]
    -->
    <para>
     <!--
     Fix exit signal handlers to not call ereport. (Tatsuo Ishii)
     -->
     ereportを呼び出さないように終了シグナルハンドラを修正しました。(Tatsuo Ishii)
    </para>
    <para>
     <!--
     There could be a race condition in the exit signal handlers.
     -->
     終了シグナルハンドラに競合状態が発生する可能性がありました。
    </para>
    <para>
     <!--
     See [pgpool-hackers: 2545] for more details.
     -->
     詳細は、 <ulink url="https://www.pgpool.net/pipermail/pgpool-hackers/2017-September/002545.html">[pgpool-hackers：2545]</ulink>を参照してください。
    </para>
   </listitem>

   <listitem>
    <!--
    2017-09-05 [815fd17]
    -->
    <para>
     <!--
     Doc: Fix table about replicate_select behavior. (Yugo Nagata)
     -->
     Doc: replicate_selectの動作に関する説明を修正しました。(Yugo Nagata)
    </para>
    <para>

    </para>
   </listitem>

   <listitem>
    <!--
    2017-07-28 [7a47b01]
    -->
    <para>
     <!--
     Test: Fix bug with memory leak tests and add new memory leak
     test. (Tatsuo Ishii)
     -->
     Test: メモリリークテストのバグを修正し、新しいメモリリークテストを追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

   <listitem>
    <!--
    2017-07-13 [95cab40]
    -->
    <para>
     <!--
     Add log after health check retrying succeeds. (Tatsuo Ishii)
     -->
     ヘルスチェック後に再試行が成功したログを記録するようになりました。 (Tatsuo Ishii)
    </para>
    <para>
     <!--
     Previously only health check retry logs were produced. So it was not
     clear if the retry succeeded or not in the end.
     -->
     以前は、ヘルスチェックが再試行されたログだけが記録されていましたが、再試行が成功したかどうかは明らかではありませんでした。
    </para>
   </listitem>

   <listitem>
    <!--
    2017-07-13 [1e1d1d1]
    -->
    <para>
     <!--
     Add necessary setting for health check retry in the Aurora
     example. (Tatsuo Ishii)
     -->
     Doc: 「<link linkend="example-Aurora">AWS設定の例</link>」でヘルスチェックリトライの設定に関する説明を追加しました。(Tatsuo Ishii)
    </para>
   </listitem>

  </itemizedlist>

 </sect2>

</sect1>
